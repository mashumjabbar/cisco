<img src="Discovery36.png">
<br>
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Introduction</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="https://cll-ng.cisco.com/static/web/fw/i/logo.gif" style="logoimage"></img><div class="title">Introduction</div><div class="parablock" xmlns=""><div class="richtext">Port security restricts a switch port to a specific set of MAC addresses. You should configure it on all ports that connect to end devices.</div><div class="richtext">In this activity, you will configure and verify port security. You will also set error-disabled port automatic recovery.</div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>
<hr>
<hr>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Job Aids</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="https://cll-ng.cisco.com/static/web/fw/i/logo.gif" style="logoimage"></img><div class="title">Job Aids</div><div class="titledblock" xmlns=""><div class="title">Device Information</div><div class="parablock"><div class="customnote"><div class="notetitle">Note</div><div class="richtext">In the virtual lab environment, all interfaces are Ethernet interfaces and not FastEthernet or GigabitEthernet interfaces, which you are likely to encounter in networks today. Personal computers (PCs) in the virtual lab environment are simulated by routers, so you should use Cisco IOS commands to configure them or verify the configuration.</div></div><table style="width: 100%;" class="table-border"><caption>Device Information Table</caption><thead><tr><th>Device</th><th>Characteristic<span class="bold"> </span></th><th>Value</th></tr></thead><tbody><tr><td>PC1</td><td>IPv4 address</td><td>10.10.1.10/24</td></tr><tr><td>PC1</td><td>Default gateway</td><td>10.10.1.1</td></tr><tr><td>PC2</td><td>IPv4 address</td><td>10.10.1.20/24</td></tr><tr><td>PC2</td><td>Default gateway</td><td>10.10.1.1</td></tr><tr><td>SW1</td><td>VLAN 1 IPv4 address</td><td>10.10.1.2/24</td></tr><tr><td>SW1</td><td>Default gateway</td><td>10.10.1.1</td></tr><tr><td>SW1</td><td>Ethernet0/0 description</td><td>Link to SW2</td></tr><tr><td>SW1</td><td>Ethernet0/1 description</td><td>Link to PC1</td></tr><tr><td>SW2</td><td>VLAN 1 IPv4 address</td><td>10.10.1.3/24</td></tr><tr><td>SW2</td><td>Default gateway</td><td>10.10.1.1</td></tr><tr><td>SW2</td><td>Ethernet0/0 description</td><td>Link to SW1</td></tr><tr><td>SW2</td><td>Ethernet0/1 description</td><td>Link to R1</td></tr><tr><td>SW2</td><td>Ethernet0/2 description</td><td>Link to PC2</td></tr><tr><td>R1</td><td>Ethernet0/0 description</td><td>Link to SW2</td></tr><tr><td>R1</td><td>Ethernet0/0 IPv4 address</td><td>10.10.1.1/24</td></tr><tr><td>R1</td><td>Loopback 0 IPv4 address </td><td>10.10.3.1/24</td></tr></tbody></table></div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>
<hr>
<hr>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Procedure</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="https://cll-ng.cisco.com/static/web/fw/i/logo.gif" style="logoimage"></img><div class="title">Discovery 36: Configure and Verify Port Security</div><div class="procedure" xmlns=""><div class="title">Task 1: Configure and Verify Port Security with Static Learning and Default Violation Mode on SW1</div><div class="stepgroup"><div class="title">Activity</div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>First, determine the MAC addresses of the Ethernet0/0 interface on PC1 and PC2.</div></div><div class="response"><div class="richtext">The <span class="commandname">show interfaces</span> command displays the MAC address of the interface along with a lot of other information. To reduce the amount of output, allowing you to focus on the line that contains the MAC address, you can pipe the <span class="commandname">show interface</span> output to include a filter, as shown here.</div><div class="richtext">One at a time, access the console connection to PC1 and PC2 and execute the <span class="commandname">show interfaces</span> command.</div><div class="codeblock">PC1#<span class="bold">show interfaces Ethernet 0/0 | include address</span>
  Hardware is AmdP2, address is <span class="highlight">aabb.cc00.0700</span> (bia aabb.cc00.0700)
  Internet address is 10.10.1.10/24</div><div class="codeblock">PC2#<span class="bold">show interfaces Ethernet0/0 | include address</span>
  Hardware is AmdP2, address is <span class="highlight">aabb.cc00.0800</span> (bia aabb.cc00.0800)
  Internet address is 10.10.1.20/24</div><div class="richtext">In the emulated environment of the lab, the MAC addresses are similar to each other. This similarity will make it easy to distinguish them as the steps of this discovery progress.</div><div class="richtext">Notice that the MAC address on the interface matches the burned in address (bia) shown; this is the MAC address that is hard-coded into the device’s network interface card (NIC).</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">MAC addresses in your output may be different.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>Access the console of SW1 and enter the <span class="commandname">show mac address-table</span> command to verify that SW1 sees the PC1 MAC address on its Ethernet 0/1 interface.</div></div><div class="response"><div class="richtext">On SW1 enter the following:</div><div class="codeblock">SW1#<span class="bold">show mac address-table</span>
          Mac Address Table
-------------------------------------------
Vlan    Mac Address       Type        Ports
----    -----------       --------    -----
   1   <span class="highlight"> aabb.cc00.0700    DYNAMIC     Et0/1</span>
Total Mac Addresses for this criterion: 1</div><div class="richtext">This output is consistent with the information you determined in the previous step. The MAC address that is associated with PC1 is seen on interface Ethernet0/1.</div><div class="richtext">You may also see the MAC address of R1 and PC2 in the table as well.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>On SW1, configure port security with static learning on the Ethernet0/1 interface. Use the MAC address of the PC1 that you determined in the previous steps.</div></div><div class="response"><div class="richtext">On SW1, enter the following commands:</div><div class="codeblock">SW1# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW1(config)# <span class="bold">interface Ethernet 0/1</span>
SW1(config-if)# <span class="bold">switchport mode access</span>
SW1(config-if)# <span class="bold">switchport port-security mac-address aabb.cc00.0700</span>
SW1(config-if)# <span class="bold">switchport port-security</span>
SW1(config-if)# <span class="bold">end</span></div><div class="richtext">The MAC address specified for the static learning belongs to PC1. Therefore, the SW1 only allows that MAC address on Ethernet0/1. Also, it is best practice to enter the port security optional commands first, and then enable port security last, with the <span class="commandname">switchport port-security </span>command.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>On SW1, verify the port security status.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security</span>
Secure Port  MaxSecureAddr  CurrentAddr  SecurityViolation  Security Action
                (Count)       (Count)          (Count) 
---------------------------------------------------------------------------
      Et0/1              1            1                  0         Shutdown 
---------------------------------------------------------------------------
Total Addresses in System (excluding one mac per port)     : 0
Max Addresses limit in System (excluding one mac per port) : 4096</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 5: </strong>On SW1, verify port security status of Ethernet0/1.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-up</span>
Violation Mode             : Shutdown
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 1
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : aabb.cc00.0700:1
Security Violation Count   : 0</div><div class="richtext">In this output, you can see that port security is enabled on the Ethernet 0/1 interface. The current violation mode is shutdown, which is the default violation mode for port security in Cisco IOS. Also, note that the default number of maximum securely learned MAC address for port security is 1 as shown in this output. Lastly, the MAC address in your output may be different.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 6: </strong>On PC1, change the MAC address on Ethernet0/0 to <span class="bold">eeee.eeee.eeee</span>, with the <span class="commandname">mac-address eeee.eeee.eeee</span> interface configuration command.</div></div><div class="response"><div class="richtext">On PC1, enter the following commands:</div><div class="codeblock">PC1# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC1(config)#<span class="bold"> interface Ethernet 0/0</span>
PC1(config-if)# <span class="bold">mac-address eeee.eeee.eeee</span>
PC1(config-if)# <span class="bold">end</span>
PC1# </div><div class="richtext">When the MAC address on PC1 changes, SW1 will error-disable the port toward PC1. You should see the following log messages on the SW1 console:</div><div class="codeblock">*Apr 29 11:03:22.355: %PM-4-ERR_DISABLE: psecure-violation error detected on Et0/1, putting Et0/1 in err-disable state
*Apr 29 11:03:22.355: %PORT_SECURITY-2-PSECURE_VIOLATION: Security violation occurred, caused by MAC address eeee.eeee.eeee on port Ethernet0/1.
*Apr 29 11:03:23.358: %LINEPROTO-5-UPDOWN: Line protocol on Interface Ethernet0/1, changed state to down
*Apr 29 11:03:24.359: %LINK-3-UPDOWN: Interface Ethernet0/1, changed state to down</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 7: </strong>On SW1, verify the port security status of Ethernet0/1.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-shutdown</span>
Violation Mode             : Shutdown
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 1
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : <span class="highlight">eeee.eeee.eeee</span>:1
Security Violation Count   : <span class="highlight">1</span>
SW1# <span class="bold">show interfaces Ethernet0/1</span>
Ethernet0/1 is down, line protocol is down (<span class="highlight">err-disabled</span>)
 Hardware is AmdP2, address is aabb.cc00.0910 (bia aabb.cc00.0910)
  Description: Link to PC1
&lt;... output omitted ...&gt;</div><div class="richtext">Interface Ethernet 0/1 was placed into the error-disabled state, because of security violation. Note, that only when security violation mode is set to shutdown, the interface is set to err-disabled state. In the output, you can see that port security incremented the security violation counter and the last offending MAC address that was seen on the interface Ethernet0/1 is eeee.eeee.eeee. To bring the interface back up, you have to shutdown the interface and bring it back up.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 8: </strong>On PC1, remove the configured MAC address from Ethernet0/0, returning it to its bia value, with the <span class="commandname">no mac-address</span> command.</div></div><div class="response"><div class="richtext">On PC1, enter the following commands:</div><div class="codeblock">PC1# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC1(config)# <span class="bold">interface Ethernet 0/0</span>
PC1(config-if)# <span class="bold">no mac-address</span>
PC1(config-if)# <span class="bold">end</span></div><div class="richtext">PC1 should now again use its default MAC address, which is also the address configured on SW1. You can verify PC1’s MAC address using the <span class="commandname">show interface Ethernet0/0 | include address</span> command or the <span class="commandname">show interface Ethernet0/0 | include bia</span> command.</div><div class="codeblock">PC1# <span class="bold">show interface Ethernet0/0 | include bia</span>
  Hardware is AmdP2, address is aabb.cc00.0700 (bia aabb.cc00.0700)</div><div class="richtext">By using the <span class="commandname">include </span><span class="syntaxarg">bia</span> filtering condition, you instruct the CLI interpreter to display only those lines of the command output that contain the word &quot;bia&quot;. The output of the show interface command is otherwise verbose. Using the command output filtering in this case, you reduced the output to only one line. The MAC address in your output may be different.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 9: </strong>On SW1, verify the port security status of Ethernet0/1.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1</span>
Port Security                        : Enabled
Port Status                           : <span class="highlight">Secure-shutdown</span>
Violation Mode                      : Shutdown
Aging Time                           : 0 mins
Aging Type                           : Absolute
SecureStatic Address Aging  : Disabled
Maximum MAC Addresses    : 1
Total MAC Addresses           : 1
Configured MAC Addresses   : 1
Sticky MAC Addresses         : 0
Last Source Address:Vlan     : eeee.eeee.eeee:1
Security Violation Count        : 1</div><div class="richtext">Port Ethernet0/1 is still disabled by port security.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 10: </strong>On SW1, enable Ethernet0/1 by shutting it down and then bringing it back up.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW1(config)# <span class="bold">interface Ethernet0/1</span>
SW1(config-if)# <span class="bold">shutdown</span>
*Apr 29 14:11:58.374: %LINK-5-CHANGED: Interface Ethernet0/1, changed state to administratively down
SW1(config-if)# <span class="bold">no shutdown</span>
*Apr 29 14:12:02.420: %LINK-3-UPDOWN: Interface Ethernet0/1, changed state to up
*Apr 29 14:12:03.424: %LINEPROTO-5-UPDOWN: Line protocol on Interface Ethernet0/1, changed state to up
SW1(config-if)# <span class="bold">end</span></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 11: </strong>On SW1, verify the port security status of Ethernet0/1 again.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-up</span>
Violation Mode             : Shutdown
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 1
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : <span class="highlight">aabb.cc00.0700</span>:1
Security Violation Count   : 0</div><div class="richtext">Port Ethernet0/1 is operational now. Also you can see that the last learned MAC address is back to the one that you have configured statically. Lastly, by shutting down the interface and bringing it back up the security violation counter has been reset.</div></div></div></div></div><div class="procedure" xmlns=""><div class="title">Task 2: Configure and Verify Port Security with Sticky Learning and Default Violation Mode on SW1</div><div class="stepgroup"><div class="title">Activity</div><div class="parablock"><div class="richtext">Static MAC address learning does not scale well. Instead, you can use sticky MAC address learning, where the switch will dynamically learn the MAC addresses and append them to the running configuration. If there are multiple MAC addresses possible on an interface,  then you have to increase the maximum number of MAC address allowed on the interface, otherwise port security will block any additional MAC addresses.</div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>On SW1, remove the previous port security configuration (be sure to use the MAC address that you configured). Then configure port security with sticky learning and allow maximum of two MAC addresses on the Ethernet0/1 interface.</div></div><div class="response"><div class="richtext">On SW1, enter the following commands:</div><div class="codeblock">SW1# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW1(config)#<span class="bold"> interface Ethernet 0/1</span>
SW1(config-if)# <span class="bold">no switchport port-security</span>
SW1(config-if)# <span class="bold">no switchport port-security mac-address aabb.cc00.0700</span>
SW1(config-if)#<span class="bold"> switchport port-security maximum 2</span>
SW1(config-if)# <span class="bold">switchport port-security mac-address sticky</span>
SW1(config-if)# <span class="bold">switchport port-security
</span>SW1(config-if)# <span class="bold">end</span></div><div class="richtext">When changing the port security, it is best practice to first disable it, and enable it when you are done configuring all port security parameters.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>On SW1, verify the port security status.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security</span>
Secure Port  MaxSecureAddr  CurrentAddr  SecurityViolation  Security Action
                (Count)       (Count)          (Count) 
---------------------------------------------------------------------------
      Et0/1              2            1                  0         Shutdown 
---------------------------------------------------------------------------
Total Addresses in System (excluding one mac per port)     : 0
Max Addresses limit in System (excluding one mac per port) : 4096</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>On SW1, verify which MAC address is learned on Ethernet0/1.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet 0/1</span>
Port Security              : Enabled
Port Status                : Secure-up
Violation Mode             : Shutdown
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 2
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 1
Last Source Address:Vlan   : <span class="highlight">aabb.cc00.0700</span>:1
Security Violation Count   : 0</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">The MAC address in your output may be different.</div></div><div class="richtext">Also verify that the same MAC address is listed in the configuration of SW1.</div><div class="codeblock">SW1# <span class="bold">show running-config interface Ethernet0/1</span>
Building configuration...
Current configuration : 258 bytes
!
interface Ethernet0/1
 description Link to PC1
 switchport mode access
 switchport port-security maximum 2
 switchport port-security
 switchport port-security mac-address sticky
 <span class="highlight">switchport port-security mac-address sticky aabb.cc00.0700</span>
 duplex auto
end</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>Save the SW1 running configuration to the startup configuration.  </div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">copy running-config startup-config</span>
Destination filename [startup-config]? &lt;Enter&gt;
Building configuration...
Compressed configuration from 1145 bytes to 768 bytes[OK]</div><div class="richtext">Now that SW1 has learned the MAC address of PC1, you have to save the running configuration so that the learned MAC address stays in the configuration even if the switch reboots.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 5: </strong>On PC1, change the MAC address on Ethernet0/0 to <span class="bold">eeee.eeee.eeee</span> and try to ping the R1 <span class="bold">10.10.1.1</span> address.</div></div><div class="response"><div class="richtext">On PC1, enter the following commands:</div><div class="codeblock">PC1# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC1(config)# <span class="bold">interface Ethernet0/0</span>
PC1(config-if)# <span class="bold">mac-address eeee.eeee.eeee</span>
PC1(config-if)# <span class="bold">do ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
<span class="highlight">!!!!!</span>
Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/1 ms
PC1(config-if)# <span class="bold">end</span>
PC1#</div><div class="richtext">As you can see from the output the ping is successful, because the link between the SW1 and PC1 is still up and operational. </div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 6: </strong>On SW1, verify the port security status of Ethernet0/1 interface.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1</span>
Port Security              : Enabled
Port Status                : Secure-up
Violation Mode             : Shutdown
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 2
Total MAC Addresses        : 2
Configured MAC Addresses   : 0
Sticky MAC Addresses       : <span class="highlight">2</span>
Last Source Address:Vlan   : <span class="highlight">eeee.eeee.eeee</span>:1
Security Violation Count   : <span class="highlight">0</span></div><div class="richtext">As you can see, SW1 did not place the port into the error disabled state, because SW1 allows maximum of 2 securely learned MAC addresses on interface Ethernet0/1. Note that the last MAC address seen on the interface Ethernet0/1 is eeee.eeee.eeee.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 7: </strong>On SW1, verify learned secure MAC addresses on interface Ethernet0/1.</div></div><div class="response"><div class="richtext"></div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1 address</span>
               Secure Mac Address Table
-----------------------------------------------------------------------------
Vlan    Mac Address       Type                          Ports   Remaining Age
                                                                   (mins)
----    -----------       ----                          -----   -------------
   1    <span class="highlight">aabb.cc00.0700    SecureSticky</span>                  Et0/1        -
   1    <span class="highlight">eeee.eeee.eeee    SecureSticky</span>                  Et0/1        -
-----------------------------------------------------------------------------
Total Addresses: 2</div><div class="richtext">In this output, you can see that SW1 has two securely learned MAC addresses on interface Ethernet0/1. Both were learned via sticky MAC address learning.</div><div class="richtext">Also verify that the same MAC addresses are listed in the configuration of SW1.</div><div class="codeblock">SW1# <span class="bold">show running-config interface Ethernet0/1</span>
Building configuration...
Current configuration : 318 bytes
!
interface Ethernet0/1
 description Link to PC1
 switchport mode access
 switchport port-security maximum 2
 switchport port-security
 switchport port-security mac-address sticky
 <span class="highlight">switchport port-security mac-address sticky aabb.cc00.0700
 switchport port-security mac-address sticky eeee.eeee.eeee</span>
 duplex auto
end</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 8: </strong>On PC1, change the MAC address on Ethernet0/0 to cccc.cccc.cccc and try to ping R1 10.10.1.1 address.</div></div><div class="response"><div class="richtext">On PC1, enter the following commands:</div><div class="codeblock">PC1# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC1(config)# <span class="bold">interface Ethernet0/0</span>
PC1(config-if)# <span class="bold">mac-address cccc.cccc.cccc</span>
PC1(config-if)# <span class="bold">do ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
<span class="highlight">.....</span>
Success rate is 0 percent (0/5)
PC1(config-if)# <span class="bold">end</span>
PC1#</div><div class="richtext">As you can see from the output the ping is unsuccessful. When the MAC address on PC1 changes, SW1 will error-disable the port toward PC1.</div><div class="richtext">You should see the following log messages on the SW1 console:</div><div class="codeblock">*Apr 29 14:21:38.653: %PM-4-ERR_DISABLE: psecure-violation error detected on Et0/1, putting Et0/1 in err-disable state
*Apr 29 14:21:38.653: %PORT_SECURITY-2-PSECURE_VIOLATION: Security violation occurred, caused by MAC address <span class="highlight">cccc.cccc.cccc</span> on port Ethernet0/1.
*Apr 29 14:21:39.654: %LINEPROTO-5-UPDOWN: Line protocol on Interface Ethernet0/1, changed state to down
*Apr 29 14:21:40.654: %LINK-3-UPDOWN: Interface Ethernet0/1, changed state to down</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 9: </strong>On SW1, verify the port security status of Ethernet0/1.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-shutdown</span>
Violation Mode             : Shutdown
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 2
Total MAC Addresses        : 2
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 2
Last Source Address:Vlan   : <span class="highlight">cccc.cccc.cccc</span>:1
Security Violation Count   : <span class="highlight">1</span>
SW1# <span class="bold">show interfaces Ethernet0/1</span>
Ethernet0/1 is down, line protocol is down (<span class="highlight">err-disabled</span>)
 Hardware is AmdP2, address is aabb.cc00.0910 (bia aabb.cc00.0910)
  Description: Link to PC1
&lt;... output omitted ...&gt;</div><div class="richtext">Interface Ethernet 0/1 was placed into the error-disabled state, because of security violation. Note, that only when security violation mode is set to shutdown, the interface is set to err-disabled state. In the output, you can see that port security incremented the security violation counter and the last offending MAC address that was seen on the interface Ethernet0/1 is cccc.cccc.cccc. To bring the interface back up, you have to shut down the interface and bring it back up.</div></div></div><div class="parablock"><div class="titledblock"><div class="title">Error-Disabled Port Automatic Recovery</div><div class="parablock"><div class="richtext">An error-disabled port will become operational after you shut it down and then bring it back up. To reduce the administrative overhead, an error-disabled port can be automatically re-enabled after the problem that is causing the error-disabled state is fixed.</div><div class="richtext">Use the <span class="commandname">errdisable recovery cause </span><span class="syntaxarg">cause</span> command to automatically re-enable port that was error-disabled because of the specified cause; use <span class="commandname">psecure-violation</span> for port security violations. Use the <span class="commandname">errdisable recovery interval</span> <span class="syntaxarg">seconds</span> command to automatically re-enable the port after a specified time. The default time interval is 300 seconds, and the minimum is 30 seconds. If the problem that caused the port to change into the error-disabled state is not resolved, the port will stay in the error-disabled state.</div><div class="codeblock">SW(config)# <span class="bold">errdisable recovery cause </span><span class="italic">cause</span>
SW(config)# <span class="bold">errdisable recovery interval </span><span class="italic">seconds</span></div><div class="richtext">You can verify where autorecovery is enabled by using the <span class="commandname">show errdisable recovery</span> command. By default, the autorecovery feature is disabled.</div></div></div></div></div></div><div class="procedure" xmlns=""><div class="title">Task 3: Configure Error-Disabled Port Automatic Recovery on SW1</div><div class="stepgroup"><div class="title">Activity</div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>On SW1, configure error-disabled automatic recovery by setting the cause to <span class="commandname">psecure-violation</span>; also set the interval timer to 30 seconds.</div></div><div class="response"><div class="richtext">On SW1, enter the following commands:</div><div class="codeblock">SW1# <span class="bold">configure terminal</span>
SW1(config)# <span class="bold">errdisable recovery cause psecure-violation</span>
SW1(config)# <span class="bold">errdisable recovery interval 30</span>
SW1(config)# <span class="bold">end</span></div><div class="richtext">Note that interface Ethernet0/1 is still in error-disabled state.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>On PC1, remove the configured MAC address from Ethernet0/0, returning it to its bia value, with the <span class="commandname">no mac-address</span> command.</div></div><div class="response"><div class="richtext">In order for Error-Disabled Port Automatic Recovery to work you must remove the offending MAC address from PC1.</div><div class="richtext">On PC1, enter the following commands:</div><div class="codeblock">PC1#<span class="bold"> configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC1(config)#<span class="bold"> interface Ethernet 0/0</span>
PC1(config-if)# <span class="bold">no mac-address</span>
PC1(config-if)# <span class="bold">end</span></div><div class="richtext">PC1 should now again use its default MAC address, which is also the address configured on SW1. You can verify PC1’s MAC address using the <span class="commandname">show interface Ethernet0/0 | include bia</span> command.</div><div class="codeblock">PC1# <span class="bold">show interface Ethernet0/0 | include bia</span>
  Hardware is AmdP2, address is aabb.cc00.0700 (bia aabb.cc00.0700)</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">The MAC address in your output may be different.</div></div><div class="richtext">After a few minutes, Ethernet0/1 will be recovered. You will see following log message on the SW1 console:</div><div class="codeblock">*Apr 29 14:36:38.541: %PM-4-ERR_RECOVER: <span class="highlight">Attempting to recover from psecure-violation err-disable state on Et0/1</span>
*Apr 29 14:36:40.544: %LINK-3-UPDOWN: Interface Ethernet0/1, changed state to up
*Apr 29 14:36:41.545: %LINEPROTO-5-UPDOWN: Line protocol on Interface Ethernet0/1, changed state to up</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">In the virtual lab environment the Ethernet interface takes longer than the configured time to recover.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>From PC1, ping R1 (<span class="bold">10.10.1.1)</span> to verify whether Ethernet0/1 on SW1 is operational.</div></div><div class="response"><div class="richtext">On PC1, enter the following command:</div><div class="codeblock">PC1# <span class="bold">ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
<span class="highlight">!!!!!</span>
Success rate is 100 percent (5/5), round-trip min/avg/max = 1/201/1004 ms</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>On SW1, verify the port security status of Ethernet0/1.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">show port-security interface Ethernet0/1</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-up</span>
Violation Mode             : Shutdown
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 2
Total MAC Addresses        : 2
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 2
Last Source Address:Vlan   : <span class="highlight">aabb.cc00.0700</span>:1
Security Violation Count   : <span class="highlight">0</span></div><div class="richtext">Interface Ethernet0/1 is again operational.</div></div></div></div></div><div class="procedure" xmlns=""><div class="title">Task 4: Configure and Verify Port Security with Dynamic Learning and Protect Violation Mode on SW2</div><div class="stepgroup"><div class="title">Activity</div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>On SW2, configure port security and set the security violation mode to protect with dynamic learning on the Ethernet0/2 interface.</div></div><div class="response"><div class="richtext">On SW2, enter the following commands:</div><div class="codeblock">SW2# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW2(config)#<span class="bold"> interface Ethernet 0/2</span>
SW2(config-if)# <span class="bold">switchport mode access</span>
SW2(config-if)# <span class="bold">switchport port-security violation protect</span>
SW2(config-if)# <span class="bold">switchport port-security</span>
SW2(config-if)# <span class="bold">end</span></div><div class="richtext">Note that the protect security violation mode drops all the packets from the insecure hosts at the port-security process level but does not increment the security-violation count.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>On SW2, verify the port security status.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security</span>
Secure Port  MaxSecureAddr  CurrentAddr  SecurityViolation  Security Action
                (Count)       (Count)          (Count)
---------------------------------------------------------------------------
      Et0/2              1            1                  0          Protect
---------------------------------------------------------------------------
Total Addresses in System (excluding one mac per port)     : 0
Max Addresses limit in System (excluding one mac per port) : 4096</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>On SW2, verify the port security status of Ethernet0/2 and check all known secure MAC addresses on interface Ethernet0/2.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security interface Ethernet0/2</span>
Port Security              : Enabled
Port Status                : Secure-up
Violation Mode             : <span class="highlight">Protect</span>
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : aabb.cc00.0800:1
Security Violation Count   : 0</div><div class="richtext">In this output, you can see that port security is enabled on the Ethernet 0/2 interface. The current violation mode is <span class="bold">protect</span>.</div><div class="richtext">Check all known secure MAC addresses on interface Ethernet0/2.</div><div class="codeblock">SW2# <span class="bold">show port-security interface Ethernet0/2 address</span>
               Secure Mac Address Table
-----------------------------------------------------------------------------
Vlan    Mac Address       Type                          Ports   Remaining Age
                                                                   (mins)
----    -----------       ----                          -----   -------------
   <span class="highlight">1    aabb.cc00.0800    SecureDynamic                 Et0/2</span>        -
-----------------------------------------------------------------------------
Total Addresses: 1</div><div class="richtext">You can see that MAC address aabb.cc00.0800 was learned on Ethernet0/2 interface via dynamic learning.</div><div class="richtext">Note that MAC addresses may differ in your lab.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>On PC2, verify connectivity to R1, then change the MAC address on interface Ethernet0/0 to <span class="bold">aaaa.aaaa.aaaa</span>. Check connectivity to R1 again, and verify the status of the SW2 Ethernet 0/2 interface.</div></div><div class="response"><div class="richtext">On PC2, enter the following commands:</div><div class="codeblock">PC2# <span class="bold">ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
!!!!!
<span class="highlight">Success rate is 100 percent (5/5), round-trip min/avg/max = 1/202/1006 ms</span>
PC2# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC2(config)# <span class="bold">interface Ethernet 0/0</span>
PC2(config-if)# <span class="bold">mac-address aaaa.aaaa.aaaa</span>
PC2(config-if)# <span class="bold">do ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
.....
<span class="highlight">Success rate is 0 percent (0/5)</span>
PC2(config-if)# <span class="bold">end</span>
PC2# </div><div class="richtext">In this output, you can see that PC2 can reach R1 10.10.1.1 IPv4 address. Notice, when you change the MAC address on PC2 the ping fails.</div><div class="richtext">Verify the status of the SW2 Ethernet 0/2 interface. Notice that this time SW2 did not place interface in error disabled state.</div><div class="codeblock">SW2# <span class="bold">show interfaces Ethernet0/2</span>
<span class="highlight">Ethernet0/2 is up, line protocol is up (connected)</span>
  Hardware is AmdP2, address is aabb.cc00.0a20 (bia aabb.cc00.0a20)
  Description: Link to PC2
&lt;... output omitted ...&gt;</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 5: </strong>On SW2, verify the port security status of Ethernet0/2.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security interface Ethernet0/2</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-up</span>
Violation Mode             : Protect
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : aaaa.aaaa.aaaa:1
Security Violation Count   : 0</div><div class="richtext">You can see that port security did not disable the interface. In this case, the interface is still up and operational. Port security only blocked the offending traffic, which came from the unsecured MAC address. Also, notice that security violation counter did not increment.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 6: </strong>On PC2, remove the configured MAC address from Ethernet0/0, and verify connectivity to R1 IPv4 address 10.10.1.1.</div></div><div class="response"><div class="richtext">On PC2, enter the following commands:</div><div class="codeblock">PC2# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC2(config)# <span class="bold">interface Ethernet 0/0</span>
PC2(config-if)# <span class="bold">no mac-address</span>
PC2(config-if)# <span class="bold">do ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
!!!!!
<span class="highlight">Success rate is 100 percent (5/5), round-trip min/avg/max = 1/201/1005 ms</span>
PC2(config-if)# <span class="bold">end</span></div><div class="richtext">Notice that PC2 has regained connectivity to the R1 when it got its original MAC address back.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 7: </strong>On SW2, verify the port security status of Ethernet0/2.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security interface Ethernet0/2</span>
Port Security              : Enabled
Port Status                : Secure-up
Violation Mode             : Protect
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : <span class="highlight">aabb.cc00.0800</span>:1
Security Violation Count   : 0</div><div class="richtext">Notice that nothing changed on SW2 side, except for the last known address.</div></div></div></div></div><div class="procedure" xmlns=""><div class="title">Task 5: Configure and Verify Port Security with Dynamic Learning and Restrict Violation Mode on SW2</div><div class="stepgroup"><div class="title">Activity</div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>On SW2, change the security violation mode to restrict on interface Ethernet0/2.</div></div><div class="response"><div class="richtext">On SW2, enter the following commands:</div><div class="codeblock">SW2# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW2(config)# <span class="bold">interface Ethernet 0/2</span>
SW2(config-if)# <span class="bold">switchport port-security violation restrict</span>
SW2(config-if)# <span class="bold">end</span></div><div class="richtext">Note that the restrict security violation mode drops all the packets from the insecure hosts at the port-security process level and increments the security-violation count.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>On SW2, verify the port security status.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security</span>
Secure Port  MaxSecureAddr  CurrentAddr  SecurityViolation  Security Action
                (Count)       (Count)          (Count)
---------------------------------------------------------------------------
      Et0/2              1            1                  0          Restrict
---------------------------------------------------------------------------
Total Addresses in System (excluding one mac per port)     : 0
Max Addresses limit in System (excluding one mac per port) : 4096</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>On SW2, verify the port security status of Ethernet0/2.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security interface Ethernet0/2</span>
Port Security              : Enabled
Port Status                : Secure-up
Violation Mode             : <span class="highlight">Restrict</span>
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : aabb.cc00.0800:1
Security Violation Count   : 0</div><div class="richtext">In this output, you can see that port security is enabled on the Ethernet 0/2 interface. The current violation mode is set to restrict.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>On PC2, verify connectivity to R1, then change the MAC address on Ethernet0/0 to <span class="bold">aaaa.aaaa.aaaa</span>. Check again connectivity to R1 and observe the output on SW2.</div></div><div class="response"><div class="richtext">On PC2, enter the following commands:</div><div class="codeblock">PC2# <span class="bold">ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
!!!!!
<span class="highlight">Success rate is 100 percent (5/5), round-trip min/avg/max = 1/202/1006 ms</span>
PC2# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC2(config)# <span class="bold">interface Ethernet 0/0</span>
PC2(config-if)# <span class="bold">mac-address aaaa.aaaa.aaaa</span>
PC2(config-if)# <span class="bold">do ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
.....
<span class="highlight">Success rate is 0 percent (0/5)</span>
PC2(config-if)# <span class="bold">end</span>
PC2# </div><div class="richtext">In this output, you can see that PC1 can reach R1 10.10.1.1 IPv4 address. Notice, when you change the MAC address on PC1 the ping fails.</div><div class="richtext">Also, you should see that SW2 will start to log messages that security violation has occurred.</div><div class="codeblock">*Apr 29 14:48:48.924: %PORT_SECURITY-2-PSECURE_VIOLATION: Security violation occurred, caused by MAC address aaaa.aaaa.aaaa on port Ethernet0/2.
*Apr 29 14:48:54.450: %PORT_SECURITY-2-PSECURE_VIOLATION: Security violation occurred, caused by MAC address aaaa.aaaa.aaaa on port Ethernet0/2.
*Apr 29 14:49:00.467: %PORT_SECURITY-2-PSECURE_VIOLATION: Security violation occurred, caused by MAC address aaaa.aaaa.aaaa on port Ethernet0/2.
*Apr 29 14:49:07.809: %PORT_SECURITY-2-PSECURE_VIOLATION: Security violation occurred, caused by MAC address aaaa.aaaa.aaaa on port Ethernet0/2.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 5: </strong>On SW2, verify the port security status of Ethernet0/2.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security interface Ethernet0/2</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-up</span>
Violation Mode             : Restrict
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : aaaa.aaaa.aaaa:1
Security Violation Count   : 10</div><div class="richtext">You can see that port security did not error-disable the interface. In this case, the interface is still up and operational. Port security only blocked the offending traffic, which came from unsecured MAC addresses. Also, notice that SW2 incremented the security violation counter each time the security violation occurred.</div><div class="richtext">Note that security violation counter may differ in your lab, because PC2 is simulated by a router and periodically sends Cisco Discovery Protocol messages by default.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 6: </strong>On PC2, remove the configured MAC address from Ethernet0/0 and verify connectivity to R1 10.10.1.1 IPv4 address.</div></div><div class="response"><div class="richtext">On PC2, enter the following commands:</div><div class="codeblock">PC2# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
PC2(config)# <span class="bold">interface Ethernet 0/0</span>
PC2(config-if)# <span class="bold">no mac-address</span>
PC2(config-if)# <span class="bold">do ping 10.10.1.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.1.1, timeout is 2 seconds:
!!!!!
<span class="highlight">Success rate is 100 percent (5/5), round-trip min/avg/max = 1/201/1005 ms</span>
PC2(config-if)# <span class="bold">end</span></div><div class="richtext">Notice that PC2 has regained connectivity to the R1 when it got its original MAC address back.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 7: </strong>On SW2, verify the port security status of Ethernet0/2.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">show port-security interface Ethernet0/2</span>
Port Security              : Enabled
Port Status                : <span class="highlight">Secure-up</span>
Violation Mode             : Restrict
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : <span class="highlight">aabb.cc00.0800</span>:1
Security Violation Count   : 23</div><div class="richtext">Notice that nothing changed on SW2 side, except for the last known address. The only way to clear the security violation counter is to restart the router or shutdown the port and bringing it back up as shown in the following example.</div><div class="codeblock">SW2# <span class="bold">configure terminal</span>
Enter configuration commands, one per line.  End with CNTL/Z.
SW2(config)# <span class="bold">interface Ethernet0/2</span>
SW2(config-if)# <span class="bold">shutdown</span>
*Apr 29 14:51:55.103: %LINK-5-CHANGED: Interface Ethernet0/2, changed state to administratively down
*Apr 29 14:51:56.104: %LINEPROTO-5-UPDOWN: Line protocol on Interface Ethernet0/2, changed state to down
SW2(config-if)# <span class="bold">no shutdown</span>
*Apr 29 14:51:59.357: %LINK-3-UPDOWN: Interface Ethernet0/2, changed state to up
*Apr 29 14:52:00.361: %LINEPROTO-5-UPDOWN: Line protocol on Interface Ethernet0/2, changed state to up
SW2(config-if)# <span class="bold">do show port-security interface Ethernet0/2</span>
Port Security              : Enabled
Port Status                : Secure-up
Violation Mode             : Restrict
Aging Time                 : 0 mins
Aging Type                 : Absolute
SecureStatic Address Aging : Disabled
Maximum MAC Addresses      : 1
Total MAC Addresses        : 1
Configured MAC Addresses   : 0
Sticky MAC Addresses       : 0
Last Source Address:Vlan   : aabb.cc00.0800:1
Security Violation Count   : <span class="highlight">0</span>
</div></div></div></div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>