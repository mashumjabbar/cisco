<img src="Discovery16.png">
<br>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Introduction</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="logo.gif" style="logoimage"></img><div class="title">Introduction</div><div class="parablock" xmlns=""><div class="richtext">This activity will guide you through the configuration and verification of OSPF for IPv4 on a Cisco IOS router. The lab is prepared with the devices that are represented in the topology diagram and the connectivity table. All devices have their basic configurations in place, including hostnames and IPv4 addresses. R2 and R3 are also configured with OSPF. You will configure OSPF on R1 and verify the results.</div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>
<hr>
<hr>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Job Aids</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="logo.gif" style="logoimage"></img><div class="title">Job Aids</div><div class="parablock" xmlns=""><div class="listpreamble">The initial configuration is as follows:</div><ul class="list"><li>All devices have their basic configurations in place, including hostnames and IPv4 addresses.</li><li>OSPF is preconfigured on R2 and R3:<ul class="list"><li>Process ID number 1 is used.</li><li>Both routers announce a loopback interface network.</li></ul></li></ul></div><div class="titledblock" xmlns=""><div class="title">Device Information</div><div class="parablock"><div class="customnote"><div class="notetitle">Note</div><div class="richtext">In the virtual lab environment, all interfaces are Ethernet interfaces and not FastEthernet or GigabitEthernet interfaces, which you are likely to encounter in networks today.</div></div><table style="width: 100%;" class="table-border"><caption>Device Details</caption><thead><tr><th>Device</th><th>Interface</th><th>IPv4 Address</th><th>Neighbor</th></tr></thead><tbody><tr><td>R1</td><td>Ethernet0/0</td><td>10.0.1.1/24</td><td>R2</td></tr><tr><td>R1</td><td>Ethernet0/1</td><td>10.1.1.1/24</td><td>R3</td></tr><tr><td>R1</td><td>Loopback0</td><td>10.10.11.1/24</td><td>—</td></tr><tr><td>R2</td><td>Ethernet0/0</td><td>10.0.1.2/24</td><td>R1</td></tr><tr><td>R2</td><td>Ethernet0/2</td><td>10.2.1.2/24</td><td>R3</td></tr><tr><td>R2</td><td>Loopback0</td><td>10.10.12.1/24</td><td>—</td></tr><tr><td>R3</td><td>Ethernet0/1</td><td>10.1.1.3/24</td><td>R1</td></tr><tr><td>R3</td><td>Ethernet0/2</td><td>10.2.1.3/24</td><td>R2</td></tr><tr><td>R3</td><td>Loopback0</td><td>10.10.13.1/24</td><td>—</td></tr></tbody></table></div></div><div class="titledblock" xmlns=""><div class="title">Command List</div><div class="parablock"><div class="richtext">The table defines the commands that you use to configure OSPF.</div><table class="table-border"><thead><tr><th style="width: 30%;">Command and Variable</th><th style="width: 70%;">Description</th></tr></thead><tbody><tr><td style="width: 30%;"><span class="commandname">router ospf</span> <span class="syntaxarg">process-id</span></td><td style="width: 70%;">Enters the OSPF routing configuration mode. The network administrator chooses the process ID, which is a number between 1 and 65,535. The process ID is locally significant, which means that it does not have to match other OSPF routers to establish adjacencies with those neighbors.</td></tr><tr><td style="width: 30%;"><span class="commandname">network</span> <span class="syntaxarg">ip-address wildcard-mask</span><span class="commandname"> area</span> <span class="syntaxarg">area-id</span></td><td style="width: 70%;">Uses a combination of the network address and wildcard mask and serves as the criteria to match when identifying the interfaces that can send and receive OSPF packets. The network address along with the wildcard mask, identifies which networks OSPF will run on, which in turn indicates which networks will be advertised in OSPF.<br></br>The area ID identifies the OSPF area to which the network belongs. When all the routers are within the same OSPF area, the <span class="commandname">network</span> commands must be configured with the same area ID on all routers. There must be an Area 0. In a single-area OSPF environment, the area is always 0.<br></br></td></tr><tr><td style="width: 30%;"><span class="commandname">ip ospf</span> <span class="syntaxarg">process-id</span> <span class="commandname">area</span> <span class="syntaxarg">area-id</span></td><td style="width: 70%;">Enables OSPF explicitly on the selected interface. This interface configuration mode command is an alternative to the <span class="commandname">network</span> command. </td></tr></tbody></table></div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>
<hr>
<hr>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Procedure</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="logo.gif" style="logoimage"></img><div class="title">Discovery 16: Configure and Verify Single-Area OSPF</div><div class="procedure" xmlns=""><div class="title">Task 1: Configure and Verify Single-Area OSPF</div><div class="parablock"></div><div class="parablock"><div class="richtext">The <span class="commandname">router ospf</span> command uses a process identifier as an argument. The process ID is a unique, arbitrary number that you select to identify the routing process. The process ID is locally significant and does not need to match the OSPF process ID on other OSPF routers. However, best practice suggests that the process ID should be the same on all routers in the same routing domain.</div><div class="richtext">The <span class="commandname">network</span> command identifies which IPv4 networks on the router are part of the OSPF network. For each network, you must also identify the OSPF area to which the networks belong. The network that is identified in the <span class="commandname">network</span> command does not tell the router which network to advertise; instead, it indicates the interfaces on which OSPF will be enabled. Then, the network configured on these interfaces will be advertised into OSPF.</div><div class="richtext">As with subnet mask and an IPv4 address, a wildcard mask is a string of 32 binary digits. However, a wildcard mask is used by a device to determine which bits of the address to examine for a match. A wildcard mask is not used on its own. It is used in conjunction with an IPv4 address. The matching rule consists of a reference IPv4 address and a wildcard mask that applies to it. When a wildcard mask is applied to the reference IPv4 address, the result is the matching pattern of binary digits. For a match to occur, the IPv4 address from the packet header must match the resulting pattern.</div><div class="listpreamble">The wildcard mask bits are used as follows:</div><ul class="list"><li>Where wildcard mask bit is 0: the value found at the same position in the reference IPv4 address must be matched.</li><li>Where wildcard mask bit is 1: the value found at the same position in the reference IPv4 address can be ignored.</li></ul><div class="customnote"><div class="notetitle">Note</div><div class="richtext">In order to route traffic toward external networks or toward the internet, the router must either know all the destination networks or have a default route.  You can statically configure a default route, but it can also be learned dynamically via OSPF. The router that announces the default route needs to be configured with the <span class="commandname">default-information originate</span> command in the router configuration (config-router) mode. You can also add the <span class="commandname">always</span> keyword at the end of the command (<span class="commandname">default-information originate always</span>) so that the router will always advertise the default route, regardless of whether its routing table has a default route.</div></div></div><div class="stepgroup"><div class="title">Activity</div><div class="parablock"><div class="richtext">Complete the following steps:</div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>Verify the OSPF configuration on router R2 using the <span class="commandname">show running-config</span> command.</div></div><div class="response"><div class="richtext">On R2, enter the following command:</div><div class="codeblock">R2# <span class="bold">show running-config | section ospf</span>
<span class="highlight">router ospf 1</span>
 router-id 2.2.2.2
 <span class="highlight">network 10.0.1.0 0.0.0.255 area 0</span>
 <span class="highlight">network 10.2.1.0 0.0.0.255 area 0</span>
 <span class="highlight">network 10.10.12.0 0.0.0.255 area 0</span></div><div class="listpreamble">You should see that OSPF with the process ID 1 is preconfigured to run on interfaces whose IPv4 address matches the network statements:</div><ul class="list"><li>Ethernet0/0 (10.0.1.1 matches 10.0.1.0 0.0.0.255 because the first 3 octets match)</li><li>Ethernet0/2 (10.2.1.2 matches 10.2.1.0 0.0.0.255 because the first 3 octets match)</li><li>Loopback0 (10.10.12.1 matches 10.10.12.0 0.0.0.255 because the first 3 octets match)</li></ul><div class="richtext">If you refer to the Job Aids, you can quickly see that the configured OSPF networks are associated with each of the active interfaces on R2. All networks, meaning all active interfaces on the router, belong to the same area—Area 0.</div><div class="richtext">At this point, note that the router is configured with the router ID 2.2.2.2.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>Another way to verify the OSPF configuration is by using the <span class="commandname">show ip protocols</span> command. This command will display the status of the configured dynamic routing protocols on a router. Verify the OSPF configuration on router R3.</div></div><div class="response"><div class="richtext">On R3, enter the following command:</div><div class="codeblock">R3# <span class="bold">show ip protocols</span>
*** IP Routing is NSF aware ***

Routing Protocol is &quot;<span class="highlight">ospf 1</span>&quot;
  Outgoing update filter list for all interfaces is not set
  Incoming update filter list for all interfaces is not set
  <span class="highlight">Router ID 3.3.3.3</span>
  Number of areas in this router is 1. 1 normal 0 stub 0 nssa
  Maximum path: 4
  <span class="highlight">Routing for Networks:</span>
    <span class="highlight">10.1.1.0 0.0.0.255 area 0</span>
    <span class="highlight">10.2.1.0 0.0.0.255 area 0</span>
    <span class="highlight">10.10.13.0 0.0.0.255 area 0</span>
  Routing Information Sources:
    Gateway         Distance      Last Update
    2.2.2.2              110      17:04:48
  Distance: (default is 110)</div><div class="listpreamble">You should see that only the OSPF routing protocol is configured on R3. OSPF uses the process ID 1 and is preconfigured to run on interfaces whose IPv4 address matches the network statements:</div><ul class="list"><li>Ethernet0/1 (10.1.1.3)</li><li>Ethernet0/2 (10.2.1.3)</li><li>Loopback0 (10.10.13.1)</li></ul><div class="richtext">If you refer to the Job Aids, you can quickly see that OSPF on R3 is enabled on all enabled interfaces. All networks, or all interfaces on the router, belong to the same area—Area 0.</div><div class="richtext">The router is preconfigured with the router ID 3.3.3.3.</div></div></div><div class="parablock"><div class="titledblock"><div class="title">Router ID</div><div class="parablock"><div class="richtext">If an OSPF router is not configured with an OSPF <span class="commandname">router-id</span> command and no loopback interfaces with IPv4 addresses are configured, then the OSPF router ID will be the highest IPv4 address on any of its active interfaces. The interface does not need to be enabled for OSPF, meaning that it does not need to be included in one of the OSPF <span class="commandname">network</span> commands. However, the interface must be active—it must be in the &quot;up&quot; state. </div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">The router ID looks like an IPv4 address, but it is not routable and therefore not included in the routing table, unless the OSPF routing process chooses an interface (physical or loopback) that is appropriately defined by a <span class="commandname">network</span> command or <span class="commandname">ip ospf</span> <span class="syntaxarg">process-id</span> <span class="commandname">area</span> <span class="syntaxarg">area-id</span> interface command.</div></div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>On R1, you should configure OSPF process ID 1. Configure the router ID to 1.1.1.1. Include all the networks that are associated with each of the three active interfaces for R1 in Area 0. </div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)#<span class="bold"> router ospf 1</span>
R1(config-router)#<span class="bold"> router-id 1.1.1.1</span>
R1(config-router)# <span class="bold">network 10.0.1.0 0.0.0.255 area 0</span>
R1(config-router)# <span class="bold">network 10.1.1.0 0.0.0.255 area 0</span>
R1(config-router)# <span class="bold">network 10.10.11.0 0.0.0.255 area 0
</span>R1(config-router)# <span class="bold">end</span></div><div class="richtext">During configuration, a syslog message indicates that new adjacencies have been initiated with two neighbors, R2 and R3. The OSPF neighbor state is “FULL”, which means that they have synchronized to each other and share the same LSDB knowledge. Note that R2 and R3 are represented by the preconfigured router IDs, 2.2.2.2 and 3.3.3.3, respectively.  </div><div class="codeblock">*Oct 13 07:24:35.278: %OSPF-5-ADJCHG: Process 1, <span class="highlight">Nbr 2.2.2.2</span> on Ethernet0/0 from LOADING to <span class="highlight">FULL</span>, Loading Done
*Oct 13 07:24:46.037: %OSPF-5-ADJCHG: Process 1, <span class="highlight">Nbr 3.3.3.3</span> on Ethernet0/1 from LOADING to <span class="highlight">FULL</span>, Loading Done.</div></div></div><div class="parablock"><div class="titledblock"><div class="title">Verify Single-Area OSPF</div><div class="parablock"><div class="listpreamble">You can use several commands to verify the configuration of single-area OSPF:</div><ul class="list"><li>Router# <span class="commandname">show ip ospf interface brief</span><div class="richtext">The <span class="commandname">show ip ospf interface brief</span> command verifies the interfaces that are enabled for OSPF. It is useful to determine if your <span class="commandname">network</span> statements are correctly configured. </div></li><li>Router# <span class="commandname">show ip ospf interface </span><span class="syntaxarg">interface-id</span><div class="richtext">The <span class="commandname">show ip ospf interface</span> <span class="syntaxarg">interface-id</span> command verifies all OSPF-related configuration on an interface.</div></li><li>Router# <span class="commandname">show ip protocols</span><div class="richtext">The <span class="commandname">show ip protocols</span> command provides a summary of the configured routing protocol information. You can see the protocols that are enabled and the networks that these protocols are routing for. You can also see on which interfaces the routing protocols were enabled explicitly.</div></li><li>Router# <span class="commandname">show ip ospf neighbor</span><div class="richtext">The <span class="commandname">show ip ospf neighbor</span> command displays the OSPF neighbor information on a per-interface basis. </div></li><li>Router# <span class="commandname">show ip route</span><div class="richtext">The <span class="commandname">show ip route</span> command displays the routes that are known to the router and how they are learned. This command is one of the best ways to determine connectivity between the local router and the rest of the internetwork. </div></li></ul></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>Display the interfaces on R1 that are participating in OSPF.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show ip ospf interface brief</span>
Interface    PID   Area            IP Address/Mask    Cost  State Nbrs F/C
<span class="highlight">Lo0</span>          <span class="highlight">1</span>     <span class="highlight">0</span>               10.10.11.1/24      <span class="highlight">1</span>     P2P  0/0
<span class="highlight">Et0/1</span>        <span class="highlight">1</span>     <span class="highlight">0</span>               10.1.1.1/24        <span class="highlight">10</span>    BDR   1/1
<span class="highlight">Et0/0</span>        <span class="highlight">1</span>     <span class="highlight">0</span>               10.0.1.1/24        <span class="highlight">10</span>    BDR   1/1</div><div class="richtext">Ethernet0/0, Ethernet0/1, and Loopback0 are participating in OSPF in Area 0, under process ID 1 and belong to Area 0. The cost on Ethernet0/0 and Ethernet0/1 interfaces is 10, because they both are Ethernet interfaces, while the Loopback0 interface has a cost of 1. By default, the cost on loopback interfaces is set to 1. </div></div></div><div class="parablock"><div class="titledblock"><div class="title">Hello and dead intervals</div><div class="parablock"><div class="richtext">The hello interval specifies the frequency in seconds at which a router sends hello packets. The default hello interval on multiaccess networks is 10 seconds. The dead interval is the time in seconds that a router waits to hear from a neighbor before declaring the neighboring router out of service. By default, the dead interval is four times the hello interval. These timers must be the same on neighboring routers; otherwise, an adjacency will not be established.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 5: </strong>Display detailed information about the interfaces on R1 that are participating in OSPF.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show ip ospf interface</span> 
<span class="highlight">Loopback0 is up, line protocol is up</span> 
  Internet Address 10.10.11.1/24, <span class="highlight">Area 0</span>, Attached via Network Statement
  <span class="highlight">Process ID 1, Router ID 1.1.1.1</span>, Network Type POINT_TO_POINT, Cost: 1
  Topology-MTID    <span class="highlight">Cost</span>    Disabled    Shutdown      Topology Name
        0           <span class="highlight">1</span>         no          no            Base
  Transmit Delay is 1 sec, State POINT_TO_POINT
  <span class="highlight">Timer intervals configured, Hello 10, Dead 40</span>, Wait 40, Retransmit 5
    oob-resync timeout 40
  &lt;--- output omitted ---&gt;
<span class="highlight">Ethernet0/1 is up, line protocol is up </span>
  Internet Address 10.1.1.1/24, <span class="highlight">Area 0</span>, Attached via Network Statement
  Process ID 1, <span class="highlight">Router ID 1.1.1.1</span>, Network Type BROADCAST, Cost: 10
  Topology-MTID    <span class="highlight">Cost</span>    Disabled    Shutdown      Topology Name
        0           <span class="highlight">10</span>        no          no            Base
  Transmit Delay is 1 sec, State BDR, Priority 1
  &lt;--- output omitted ---&gt;
<span class="highlight">Ethernet0/0 is up, line protocol is up </span>
  Internet Address 10.0.1.1/24, <span class="highlight">Area 0</span>, Attached via Network Statement
  Process ID 1, <span class="highlight">Router ID 1.1.1.1</span>, Network Type BROADCAST, Cost: 10
  Topology-MTID    <span class="highlight">Cost</span>    Disabled    Shutdown      Topology Name
        0           <span class="highlight">10</span>        no          no            Base
  Transmit Delay is 1 sec, State BDR, Priority 1
  Designated Router (ID) 2.2.2.2, Interface address 10.0.1.2
  Backup Designated router (ID) 1.1.1.1, Interface address 10.0.1.1
 &lt;--- output omitted ---&gt;</div><div class="richtext">The output of this command provides many details about all interfaces on the router that participate in OSPF. Ethernet0/0, Ethernet0/1, and Loopback 0 interfaces are all active (status and line protocol is “up”) and belong to OSPF area 0. They share the same information about the process ID and router ID, which is 1 and 1.1.1.1, respectively. The cost for the loopback 0 interface is 1, while the cost for each Ethernet interface is 10. </div><div class="richtext">The output of this command also provides information about OSPF timers. On these interfaces the hello interval has a default value of 10 seconds and the dead interval also has a default value of 40 seconds.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 6: </strong>Verify the OSPF configuration on R1.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show ip protocols</span>
*** IP Routing is NSF aware ***

Routing Protocol is &quot;<span class="highlight">ospf 1</span>&quot;
  Outgoing update filter list for all interfaces is not set
  Incoming update filter list for all interfaces is not set
  <span class="highlight">Router ID 1.1.1.1</span>
  Number of areas in this router is 1. 1 normal 0 stub 0 nssa
  Maximum path: 4
  <span class="highlight">Routing for Networks:
    10.0.1.0 0.0.0.255 area 0
    10.1.1.0 0.0.0.255 area 0
    10.10.11.0 0.0.0.255 area 0</span>
  Routing Information Sources:
    <span class="highlight">Gateway</span>         Distance      Last Update
    <span class="highlight">2.2.2.2</span>              110      00:02:46
    <span class="highlight">3.3.3.3</span>              110      00:02:36
  Distance: (default is 110)</div><div class="richtext">You should see only OSPF configuration, because OSPF is the only routing protocol that is running on R1. The router ID is 1.1.1.1. OSPF uses process ID 1 and is configured to run on the interfaces whose IPv4 address matches the network statements:</div><ul class="list"><li>Ethernet0/0 (10.0.1.1)</li><li>Ethernet0/1 (10.1.1.1)</li><li>Loopback0 (10.10.11.1)</li></ul><div class="richtext">All three interfaces participate in the same OSPF area 0.</div><div class="richtext">In addition to all that information, the <span class="commandname">show ip protocols</span> command also provides information about the OSPF neighbors, which are identified in the Gateway column. 2.2.2.2 and 3.3.3.3 are the router IDs of R2 and R3, respectively.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 7: </strong>Display the list of the OSPF neighbors for R1. </div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1#<span class="bold"> show ip ospf neighbor</span>

Neighbor ID     Pri   State           Dead Time   Address         Interface
<span class="highlight">3.3.3.3</span>           1   FULL/DR         00:00:38    <span class="highlight">10.1.1.3</span>        <span class="highlight">Ethernet0/1</span>
<span class="highlight">2.2.2.2</span>           1   FULL/DR         00:00:34    <span class="highlight">10.0.1.2</span>        <span class="highlight">Ethernet0/0</span></div><div class="listpreamble">R1 has two neighbors:</div><ul class="list"><li>3.3.3.3 (router ID of R3), which can be reached via the Ethernet0/1 interface. The 10.1.1.3 IPv4 address is used on the R3 interface to which R1 directly connects.</li><li>2.2.2.2 (router ID of R2), which can be reached via the Ethernet0/0 interface. The 10.0.1.2 IPv4 address is used on the R2 interface to which R1 directly connects.</li></ul><div class="richtext">Notice that the neighbor state is &quot;FULL/DR,&quot; indicating that the OSPF adjacency is established and both of the neighbors are DR routers on the link with R1. Instead of DR, you could also see a BDR state, indicating that the router is BDR, or DROTHER. DROTHER would indicate that the router is neither the DR nor the BDR. A router could be DROTHER either because other routers are DR and BDR (on a LAN with more than two routers) or because the router has its priority set to 0 and therefore it cannot become the DR or BDR.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 8: </strong>On R2, display the list of the OSPF neighbors to verify that the neighbor state of R1 is BDR.</div></div><div class="response"><div class="richtext">On R2, enter the following command:</div><div class="codeblock">R2# <span class="bold">show ip ospf neighbor</span>

Neighbor ID     Pri   State           Dead Time   Address         Interface
<span class="highlight">3.3.3.3</span>           1   FULL/DR         00:00:38    10.2.1.3        Ethernet0/2
<span class="highlight">1.1.1.1</span>           1   <span class="highlight">FULL/BDR</span>        00:00:39    10.0.1.1        Ethernet0/0</div><div class="richtext">Notice that the neighbor state for R1 (router ID 1.1.1.1) is &quot;FULL/BDR,&quot; indicating that the OSPF adjacency is established and R1 is the BDR router on the link with R2. </div><div class="richtext">You can also use the same <span class="commandname">show ip ospf neighbor</span> command on R3 to verify that R1 is BDR router on the link with R3. </div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 9: </strong>Display the routing table on R1.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show ip route</span>
Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
       E1 - OSPF external type 1, E2 - OSPF external type 2
       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
       ia - IS-IS inter area, * - candidate default, U - per-user static route
       o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
       + - replicated route, % - next hop override

Gateway of last resort is not set

      10.0.0.0/8 is variably subnetted, 9 subnets, 2 masks
C        10.0.1.0/24 is directly connected, Ethernet0/0
L        10.0.1.1/32 is directly connected, Ethernet0/0
C        10.1.1.0/24 is directly connected, Ethernet0/1
L        10.1.1.1/32 is directly connected, Ethernet0/1
<span class="highlight">O        10.2.1.0/24 [110/20] via 10.1.1.3, 00:04:50, Ethernet0/1
                     [110/20] via 10.0.1.2, 00:05:00, Ethernet0/0</span>
C        10.10.11.0/24 is directly connected, Loopback0
L        10.10.11.1/32 is directly connected, Loopback0
<span class="highlight">O        10.10.12.0/24 [110/11] via 10.0.1.2, 00:05:00, Ethernet0/0
O        10.10.13.0/24 [110/11] via 10.1.1.3, 00:04:50, Ethernet0/1</span></div><div class="richtext">The routes that the router has learned via OSPF are tagged with an &quot;O.&quot;</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">In the lab environment, the loopback IPv4 addresses using /24 prefix on the routers are advertised as /24 networks by OSPF. However, when using the same configuration on real routers, the loopback IPv4 addresses using /24 prefix will be advertised as /32 networks by OSPF, because by default loopbacks are always advertised as /32s by OSPF.</div></div><div class="listpreamble">R1 has learned the following networks:</div><ul class="list"><li>The network between R2 and R3, which has two equal cost paths—via the Ethernet0/0 and Ethernet0/1 interfaces. For both routes to 10.2.1.0/24 network, the parameters in the square brackets are same. The first parameter has value of 110 and identifies the administrative distance for OSPF, while the second parameter has value of 20 and identifies the total cost of the path. Because both paths are equally good (they have the same cost), they are both included in the routing table and used by R1 when sending traffic to 10.2.1.0/24 network. R1 will send packets on either path; this is called load-balancing.</li><li>The network of the loopback interface on R2; best path is via Ethernet0/0</li><li>The network of the loopback interface on R3; best path is via Ethernet0/1</li></ul></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 10: </strong>R1 has two paths to the 10.2.1.0/24 network, because both paths have equal costs. Influence the interface cost on R1, so that only the path via Ethernet0/0 will be chosen as the best one. Use 1 as the cost parameter.</div></div><div class="response"><div class="richtext">First, verify the costs of the Ethernet0/0 and Ethernet0/1 interfaces.</div><div class="codeblock">R1# <span class="bold">show ip ospf interface brief</span>
Interface    PID   Area            IP Address/Mask    Cost  State Nbrs F/C
Lo0          1     0               10.10.11.1/24      1     LOOP  0/0
<span class="highlight">Et0/1</span>        1     0               10.1.1.1/24        <span class="highlight">10</span>    BDR   1/1
<span class="highlight">Et0/0</span>        1     0               10.0.1.1/24        <span class="highlight">10</span>    BDR   1/1</div><div class="richtext">Both interfaces have the same cost—10. If you want the path via Ethernet0/0 to be chosen, you have to change its cost to a lower value.</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">interface Ethernet0/0</span>
R1(config-if)#<span class="bold"> ip ospf cost 1
</span>R1(config-if)# <span class="bold">end</span></div><div class="richtext">Alternatively, you could also change the cost of Ethernet0/1 to a higher value.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 11: </strong>Again, display the routing table of R1. Verify that there is only one path, the path via Ethernet0/0, to reach the 10.2.1.0/24 network.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1#<span class="bold"> show ip route</span>
Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
       E1 - OSPF external type 1, E2 - OSPF external type 2
       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
       ia - IS-IS inter area, * - candidate default, U - per-user static route
       o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
       + - replicated route, % - next hop override

Gateway of last resort is not set

      10.0.0.0/8 is variably subnetted, 9 subnets, 2 masks
C        10.0.1.0/24 is directly connected, Ethernet0/0
L        10.0.1.1/32 is directly connected, Ethernet0/0
C        10.1.1.0/24 is directly connected, Ethernet0/1
L        10.1.1.1/32 is directly connected, Ethernet0/1
<span class="highlight">O        10.2.1.0/24 [110/11] via 10.0.1.2, 00:00:02, Ethernet0/0</span>
C        10.10.11.0/24 is directly connected, Loopback0
L        10.10.11.1/32 is directly connected, Loopback0
O        10.10.12.0/24 [110/2] via 10.0.1.2, 00:00:02, Ethernet0/0
O        10.10.13.0/24 [110/11] via 10.1.1.3, 00:06:44, Ethernet0/1</div><div class="listpreamble">The total cost to reach the 10.2.1.0/24 network is 11, which is the sum of the costs on all the links to reach the network (including the cost of the links that R2 needs to reach this network).</div><ul class="list"><li>R1 can reach this network via R2. The cost of the link for R1 to reach R2 is 1 (the cost that you configured).</li><li>The cost of the link for R2 to reach the 10.2.1.0/24 network is 10.</li></ul></div></div><div class="parablock"><div class="titledblock"><div class="title">Passive Interfaces in OSPF</div><div class="parablock"><div class="listpreamble">A passive interface in OSPF suppresses inbound and outbound OSPF hello packets on the interface.</div><ul class="list"><li>To configure a specific interface as passive for the OSPF routing protocol:</li></ul><div class="codeblock">Router(config-router)# <span class="bold">passive-interface </span><span class="italic">interface</span></div><ul class="list"><li>To configure all interfaces, except the specified ones, as passive for the OSPF routing protocol:</li></ul><div class="codeblock">Router(config-router)# <span class="bold">passive-interface default
</span>Router(config-router)# <span class="bold">no passive-interface </span><span class="italic">interface</span></div><div class="richtext">With OSPF running on a network, the <span class="commandname">passive-interface</span> command stops both outgoing and incoming routing updates because the effect of the command causes the router to stop sending and receiving hello packets over an interface. For this reason, the routers will not become neighbors. Use the passive interface configuration only on the interfaces where you do not expect the router to form any OSPF neighbor adjacency, for example on a connection to an end device.</div><div class="richtext">You can configure either a specific interface as passive, or you can turn on a passive interface setting as the default, changing all interfaces to passive for OSPF, and then make active for OSPF the interfaces that should not be configured as passive with the <span class="commandname">no passive-interface</span> configuration command.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 12: </strong>On R1, set all interfaces as passive, except the interface that connects to R3. The easiest way is to use the <span class="commandname">passive-interface default</span> command.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">router ospf 1</span>
R1(config-router)# <span class="bold">passive-interface default</span>
<span class="highlight">*Oct 13 11:30:01.326: %OSPF-5-ADJCHG: Process 1, Nbr 2.2.2.2 on Ethernet0/0 from FULL to DOWN, Neighbor Down: Interface down or detached
*Oct 13 11:30:01.326: %OSPF-5-ADJCHG: Process 1, Nbr 3.3.3.3 on Ethernet0/1 from FULL to DOWN, Neighbor Down: Interface down or detached</span>
R1(config-router)# <span class="bold">no passive-interface Ethernet0/1</span>
<span class="highlight">*Oct 13 11:31:07.174: %OSPF-5-ADJCHG: Process 1, Nbr 3.3.3.3 on Ethernet0/1 from LOADING to FULL, Loading Done
</span>R1(config-router)# <span class="bold">end</span></div><div class="richtext">Note that during configuration, a syslog message indicates that existing adjacencies have been terminated. After you specify that Ethernet0/1 should not be configured as passive, the new adjacency is initiated with R3. </div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 13: </strong>Display the list of the OSPF neighbors on R1.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show ip ospf neighbor</span>

Neighbor ID     Pri   State           Dead Time   Address         Interface
<span class="highlight">3.3.3.3 </span>          1   FULL/DR         00:00:31    10.1.1.3        <span class="highlight">Ethernet0/1</span></div><div class="richtext">Because only Ethernet0/1 has been excluded from the passive interface configuration, R1 has formed an adjacency with R3 only. </div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 14: </strong>Display the routing table on R1 and verify the OSPF routes after the configuration changes.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show ip route</span>
&lt;--- output omitted ---&gt;
Gateway of last resort is not set

      10.0.0.0/8 is variably subnetted, 9 subnets, 2 masks
C        10.0.1.0/24 is directly connected, Ethernet0/0
L        10.0.1.1/32 is directly connected, Ethernet0/0
C        10.1.1.0/24 is directly connected, Ethernet0/1
L        10.1.1.1/32 is directly connected, Ethernet0/1
O        10.2.1.0/24 [110/20] via 10.1.1.3, 00:08:27, Ethernet0/1
C        10.10.11.0/24 is directly connected, Loopback0
L        10.10.11.1/32 is directly connected, Loopback0
O        10.10.12.0/24 [110/21] via 10.1.1.3, 00:08:27, Ethernet0/1
O        10.10.13.0/24 [110/11] via 10.1.1.3, 00:08:27, Ethernet0/1
</div><div class="richtext">The routes that the router has learned via OSPF are tagged with an &quot;O.&quot; Even though all interfaces except Ethernet0/1 are passive for OSPF, R1 still learns the same three networks and uses them in the routing table. This means that R1 will only use the Ethernet0/1 as the exit interface when it sends traffic to 10.2.1.0/24, 10.10.12.0/24 and 10.10.13.0/24 networks.</div></div></div></div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>
