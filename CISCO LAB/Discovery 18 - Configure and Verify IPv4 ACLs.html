<img src="Discovery18.png">
<br>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Introduction</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="logo.gif" style="logoimage"></img><div class="title">Introduction</div><div class="parablock" xmlns=""><div class="richtext">In this exercise, you will explore the basics of ACLs. The lab is prepared with the devices that are represented in the topology diagram and the connectivity table. All devices have their basic configurations in place, including hostnames and IPv4 addresses. SRV2 server is a Domain Name Service (DNS) server for both departments. The domain names of the devices are equal to their host names. Note that static routing is implemented between the routers to ensure connectivity between the network segments.</div><div class="richtext">This exercise is broken into two tasks. The first task deals with standard access lists and the second task with the extended access lists.</div><div class="richtext">The first task has two sections. The first section makes use of an access list that has already been prepared on R1 to demonstrate the importance of statement order in an access list and to demonstrate the effectiveness of using wildcard masks to specify the ranges of IPv4 addresses. You will apply the standard access list to filter traffic between the two departments. In the second section, you will modify the access list and verify that the changes are implemented as expected.</div><div class="richtext">In the second task, you will refine traffic filtering by configuring and applying an extended access list. You will verify that the extended access list filters traffic as expected.</div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>
<hr>
<hr>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Job Aids</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="logo.gif" style="logoimage"></img><div class="title">Job Aids</div><div class="titledblock" xmlns=""><div class="title">Device Information</div><div class="parablock"><div class="customnote"><div class="notetitle">Note</div><div class="richtext">In the virtual lab environment, all interfaces are Ethernet interfaces and not FastEthernet or GigabitEthernet interfaces, which you are likely to encounter in networks today. The personal computer (PC) and servers (SRVs) in the virtual lab environment are simulated by routers, so you should use Cisco IOS commands to configure them or verify the configuration.</div></div><table style="width: 100%;" class="table-border"><caption>Device Information</caption><thead><tr><th style="width: 16%;">Device</th><th style="width: 30%;">Characteristic </th><th style="width: 54%;">Value</th></tr></thead><tbody><tr><td style="width: 16%;">PC1</td><td style="width: 30%;">IPv4 address</td><td style="width: 54%;">10.10.1.10/24</td></tr><tr><td style="width: 16%;">PC1</td><td style="width: 30%;">Default gateway</td><td style="width: 54%;">10.10.1.1</td></tr><tr><td style="width: 16%;">SRV1</td><td style="width: 30%;">IPv4 address</td><td style="width: 54%;">10.10.2.20/24</td></tr><tr><td style="width: 16%;">SRV1</td><td style="width: 30%;">Default gateway</td><td style="width: 54%;">10.10.2.1</td></tr><tr><td style="width: 16%;">SRV2</td><td style="width: 30%;">IPv4 address</td><td style="width: 54%;">203.0.113.30/24</td></tr><tr><td style="width: 16%;">SRV2</td><td style="width: 30%;">Default gateway</td><td style="width: 54%;">203.0.113.1</td></tr><tr><td style="width: 16%;">SRV2</td><td style="width: 30%;">Username</td><td style="width: 54%;">admin</td></tr><tr><td style="width: 16%;">SRV2</td><td style="width: 30%;">Password</td><td style="width: 54%;">Cisco123</td></tr><tr><td style="width: 16%;">SW1</td><td style="width: 30%;">VLAN 1 IPv4 address</td><td style="width: 54%;">10.10.1.4/24</td></tr><tr><td style="width: 16%;">SW1</td><td style="width: 30%;">Default gateway</td><td style="width: 54%;">10.10.1.1</td></tr><tr><td style="width: 16%;">SW1</td><td style="width: 30%;">Ethernet0/0 </td><td style="width: 54%;">Link to R1</td></tr><tr><td style="width: 16%;">SW1</td><td style="width: 30%;">Ethernet0/1 </td><td style="width: 54%;">Link to PC1</td></tr><tr><td style="width: 16%;">SW2</td><td style="width: 30%;">VLAN 1 IPv4 address</td><td style="width: 54%;">10.10.2.4/24</td></tr><tr><td style="width: 16%;">SW2</td><td style="width: 30%;">Default gateway</td><td style="width: 54%;">10.10.2.1</td></tr><tr><td style="width: 16%;">SW2</td><td style="width: 30%;">Ethernet0/0 </td><td style="width: 54%;">Link to R1</td></tr><tr><td style="width: 16%;">SW2</td><td style="width: 30%;">Ethernet0/1 description</td><td style="width: 54%;">Link to SRV1</td></tr><tr><td style="width: 16%;">SW3</td><td style="width: 30%;">VLAN 1 IPv4 address</td><td style="width: 54%;">203.0.113.4/24</td></tr><tr><td style="width: 16%;">SW3</td><td style="width: 30%;">Default gateway</td><td style="width: 54%;">203.0.113.1</td></tr><tr><td style="width: 16%;">SW3</td><td style="width: 30%;">Ethernet0/0 </td><td style="width: 54%;">Link to R2</td></tr><tr><td style="width: 16%;">SW3</td><td style="width: 30%;">Ethernet0/1 </td><td style="width: 54%;">Link to SRV2</td></tr><tr><td style="width: 16%;">R1</td><td style="width: 30%;">Ethernet0/0 </td><td style="width: 54%;">Link to SW1</td></tr><tr><td style="width: 16%;">R1</td><td style="width: 30%;">Ethernet0/0 IPv4 address</td><td style="width: 54%;">10.10.1.1/24</td></tr><tr><td style="width: 16%;">R1</td><td style="width: 30%;">Ethernet0/1 </td><td style="width: 54%;">Link to SW2</td></tr><tr><td style="width: 16%;">R1</td><td style="width: 30%;">Ethernet0/1 IPv4 address</td><td style="width: 54%;">10.10.2.1/24</td></tr><tr><td style="width: 16%;">R1</td><td style="width: 30%;">Ethernet0/3 </td><td style="width: 54%;">Link to R2</td></tr><tr><td style="width: 16%;">R1</td><td style="width: 30%;">Ethernet0/3 IPv4 address</td><td style="width: 54%;">198.51.100.2/30</td></tr><tr><td style="width: 16%;">R2</td><td style="width: 30%;">Ethernet0/0 </td><td style="width: 54%;">Link to SW3</td></tr><tr><td style="width: 16%;">R2</td><td style="width: 30%;">Ethernet0/0 IPv4 address</td><td style="width: 54%;">203.0.113.1/24</td></tr><tr><td style="width: 16%;">R2</td><td style="width: 30%;">Ethernet0/3 </td><td style="width: 54%;">Link to R1</td></tr><tr><td style="width: 16%;">R2</td><td style="width: 30%;">Ethernet0/3 IPv4 address</td><td style="width: 54%;">198.51.100.1/30</td></tr></tbody></table></div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>
<hr>
<hr>

<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><title>Procedure</title><style type="text/css">

        .title {
            font-weight: bold;
        }
        body {
            font-size: 12pt;
        }
        body > .title {
            font-size: 20pt;
            margin-top: 20px;
            margin-bottom: 20px;
        }
        .procedure > .title {
            font-size: 18pt;
        }
        .procedure > .stepgroup > .title {
            font-size: 16pt;
        }
        .procedure > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup {
            margin-top: 10px;
        }
        .procedure > .parablock {
            margin-top: 10px;
        }
        .procedure > .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .step {
            margin-top: 10px;
            margin-left: 20px;
        }
        .step > .action > div: first-child {
            margin-left: -20px;
            font-weight: bold;
            font-size: 14pt;
        }
        .stepgroup > .parablock {
            margin-top: 10px;
        }
        .step > .response {
            margin-top: 10px;
        }
        .step > .parablock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .step > .parablock > .titledblock {
            margin-top: 10px;
        }
        .step > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .step > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock > .title {
            font-size: 14pt;
        }
        .stepgroup > .parablock > .titledblock > .title {
            margin-top: 10px;
        }
        .stepgroup > .parablock > .titledblock .titledblock > .title {
            font-size: 12pt;
        }
        .stepgroup > .parablock > .titledblock .titledblock {
            margin-top: 10px;
        }
        .substep {
            margin-top: 10px;
            margin-left: 20px;
        }
        .substep > .action > div: first-child {
            font-size: 12pt;
            font-weight: bold;
            margin-left: -20px;
        }
        .richtext {
            margin-top: 10px;
        }
        .titledblock > .parablock {
            margin-top: 10px;
        }
        .customnote {
            margin: 10px 5px 10px 5px;
            border: 1px solid black;
        }
        .notetitle {
            font-weight: bold;
            border-bottom: 1px solid black;
            width: 100%;
        }
        .procedure {
            margin-top: 10px;
        }
        .stepgroup > .title {
            margin-left: -20px;
        }
        .stepgroup {
            margin-left: 20px;
        }
        .procedure {
            margin-left: 20px;
        }
        .procedure > .title {
            margin-left: -20px;
        }
        .topic > .title {
            font-size: 16pt;
        }
        .topic > .topic > .title {
            font-size: 14pt;
        }
        .topic > .topic {
            margin-top: 10px;
        }
        .parablock img {
            margin-top: 20px;
        }
        .highlight {
            background-color: #ffff00;
        }
        .double-underline {
            border-bottom: 3px double;
        }
        .overline {
            text-decoration: overline;
        }
        .inlineterm {
        }
        .inlinewindowname {
        }        
        .inlinemenuselection {
          font-weight: bold;
        }        
        .inlinetypethis {
          font-weight: bold;
        }        
        .inlinecode {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre-wrap;
        }
        .bold {
            font-weight: bold;
        }
        .italic {
            font-style: italic;
        }
        .underline {
            text-decoration: underline;
        }
        .subscript {
            vertical-align: sub;
            font-size: smaller;
        }
        .superscript {
            vertical-align: super;
            font-size: smaller;
        }
        .strikethrough {
            text-decoration: line-through;
        }
        .titledblock {} .figure {
            max-width: 100%;
        }
        .listpreamble {
            margin-top: 20px;
        }
        .list {
            padding-left: 0px;
            margin-left: 0px;
        }
        .list li {
            margin-left: 13px;
            padding-left: 0px;
            list-style-position: outside;
            list-style-type: none;
            text-indent: -5px;
            margin-top: 5px;
        }
        .list li: before {
            content: '\2022';
            position: relative;
            left: -5px;
        }
        .list ul {
            margin-top: 0px;
        }
        .list ul li {
            list-style-type: none;
            margin-left: 15px;
            text-indent: -7px;
        }
        .list ul li: before {
            content: '\2013';
            position: relative;
            left: -7px;
        }
        .hintblock {
            display: none;
        }
        .table {
            empty-cells: show;
            border: 0px none;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table tr {
            border: 0px none;
        }
        .table tr td,
        th {
            border: 0px none;
            vertical-align: top;
        }
        .table tr th {
            background-color: #cccccc;
        }
        .table-border {
            empty-cells: show;
            border: 1px solid #000000;
            margin-top: 20px;
            border-collapse: collapse;
        }
        .table-border tr {
            border: 1px solid #000000;
        }
        .table-border tr td,
        th {
            border: 1px solid #000000;
            vertical-align: top;
        }
        .table-border tr th {
            background-color: #cccccc;
        }
        .codeblock {
            font-family: 'Courier New', Courier, monospace;
            white-space: pre;
        }
        li .codeblock {
            text-indent: 0px;
        }
        .logoimage {
            margin: 10px;
        }
        .printhere {
            margin-top: 40px;
        }
        .slide {
            border: none;
            max-width: 100%;
            margin-top: 20px;
        }
        .slidetitle {
            font-size: 14pt;
            font-weight: bold;
            text-align: center;
            display: none;
        }
        .slidebody {
            text-align: left;
        }
        .commandname {
            font-weight: bold;
        }
        .syntaxarg {
            font-style: italic;
        }
        .syntaxkeyword {
            font-weight: bold;
            font-style: italic;
        }
        .footline {
            width: 98%;
            margin-top: 30px;
        }
        .copyright {
            font-size: 10pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .question {
            margin-bottom: 20px;
            border-bottom: solid 1px #000;
        }
        .question .title {
            font-weight: bold;
            font-size: 14pt;
        }
        .multiplechoice {}
        .stem {
            margin-bottom: 10px;
        }
        .options {
            border: none;
        }
        .option input[type=checkbox],
        input.checkbox {
            display: block;
            float: left;
        }
        .option input[type=radio],
        input.radio {
            display: block;
            float: left;
        }
        .option input[type=submit] {} 
        .option label {
            position: relative;
            margin-left: 30px;
            display: block;
        }
        .options .correct {
            background-color: #0f0;
        }
        .options .incorrect {
            background-color: #f00;
        }
        .feedback { 
            border: 1px solid #000; 
            padding: 5px;
            margin-bottom: 5px;
            margin-left: 10px;
            background-color: #eee;
        }
        .fbhidden {
           display: none;
        }

      </style></head><body><img src="logo.gif" style="logoimage"></img><div class="title">Discovery 18: Configure and Verify IPv4 ACLs</div><div class="procedure" xmlns=""><div class="title">Task 1: Configure, Apply, and Modify Standard IPv4 ACLs</div><div class="stepgroup"><div class="title">Activity</div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>On router R1, display the content of the access list 10 by using the <span class="commandname">show running-config</span> command. To see only the access list content from the output, use the <span class="commandname">include</span> output filter, specifying the string <span class="commandname">access-list 10</span>.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show running-config | include access-list 10</span>
access-list 10 permit 10.10.1.10
access-list 10 deny   10.10.1.0 0.0.0.255
access-list 10 permit 10.10.0.0 0.0.255.255
access-list 10 deny   10.0.0.0 0.255.255.255
access-list 10 permit any</div></div></div><div class="parablock"><div class="richtext">This ACL demonstrates the use of progressively less restrictive wildcard masks. </div><div class="listpreamble">Each line in the ACL becomes progressively less specific. Using the asterisk (*) character to represent any octet (0 to 255), the access list could be interpreted as follows:</div><ul class="list"><li>Permit 10.10.1.10</li><li>Deny 10.10.1.*</li><li>Permit 10.10.*.*</li><li>Deny 10.*.*.*</li><li>Permit *.*.*.*</li></ul><div class="richtext">Access list 10 will allow traffic from PC1, whose IPv4 address is 10.10.1.10. It will deny the traffic coming from other devices in the 10.10.1.0/24 subnet. Traffic from other 10.10.0.0/16 subnets will pass the access list. In the topology, there is a 10.10.2.0/24 subnet. Traffic from other 10.0.0.0/8 subnets will be denied, whereas, traffic from all other networks will be permitted.</div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>To demonstrate access list 10 in action, you will filter traffic that transits router R1. First, you will apply the access list and then generate test traffic to verify that the access list is filtering traffic as expected. On R1, apply access list 10 to the interface Ethernet 0/3 in the outbound direction.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">interface Ethernet 0/3</span>
R1(config-if)# <span class="bold">ip</span> <span class="bold">access-group 10 out</span></div><div class="richtext">Defining an ACL on a Cisco IOS device does not change the behavior of the device until the ACL is applied. ACLs are used for various purposes. Depending on the purpose of an ACL, different commands are used in different configuration mode. In this lab, you use access list 10 to filter traffic transiting R1 router.</div><div class="richtext">The placement of an access list and the traffic direction of access list processing are very important, so care must be taken when choosing the most appropriate location. To filter traffic coming from department A and going to department B using a standard access list, the best place to filter is on the R1 interface facing department B, outbound. Have in mind that standard access lists filter the traffic only based on the source IPv4 address in a packet. Placing access list 10 inbound on either Ethernet 0/0 or Ethernet 0/1 R1 interfaces would also filter the communication between 10.10.1.0/24 and 10.10.2.0/24 subnets.</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">In the lab, you have full administrative control of Department A network. You have only limited control over devices in Department B network, permitting you to perform connectivity tests, but you cannot define or apply the access list on its interfaces. In real networks you will encounter situations where your administrative control would be limited to only certain network segments or to only certain device features.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>Leave the interface configuration mode on R1 and go directly to the privileged EXEC mode.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1(config-if)# <span class="bold">end</span>
R1#</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>View access list 10, this time using the <span class="commandname">show access-lists</span> command. The <span class="commandname">show access-lists</span> command will display the content of all configured access lists, for IPv4 and IPv6. You can narrow the output by specifying the access list number or name. You can also use the <span class="commandname">show ip access-lists</span> command to display all the configured IPv4 access lists and their content.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists 10</span>
<span class="highlight">Standard</span> IP access list 10
    <span class="highlight">10</span> permit 10.10.1.10
    <span class="highlight">20</span> deny   10.10.1.0, wildcard bits 0.0.0.255
    <span class="highlight">30</span> permit 10.10.0.0, wildcard bits 0.0.255.255
    <span class="highlight">40</span> deny   10.0.0.0, wildcard bits 0.255.255.255
    <span class="highlight">50</span> permit any</div><div class="richtext">Although you can view access list entries from the running configuration output, there are advantages to using the <span class="commandname">show access-lists</span> command, which you will get to know soon. Note that the output of the <span class="commandname">show access-lists</span> command displays all the configured access-lists. You can use output filters to display only the desired access-list or you can specify the access list name or number as the argument.</div><div class="richtext">The <span class="commandname">show access-lists</span> command shows the ACL entries in a format which is different than the format used to configure the entry in configuration mode. A sequence number is displayed at the beginning of each entry in the output of the <span class="commandname">show access-lists</span> command, but the sequence number was not included when you displayed the access list as part of the running configuration. The sequence number was automatically assigned by Cisco IOS when you entered the access list entries.</div><div class="richtext">Also note that the output of the <span class="commandname">show access-lists</span> command explicitly tells you that this access list is a standard access list. Your access list is a numbered access list with the number 10. When using numbered access lists,<span class="italic"> </span>the number chosen for the list indicates access list type.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 5: </strong>To verify the filtering action of access list 10, you are now going to generate traffic and observe the result of ACL processing. The first line in access list 10 permits traffic from single address 10.10.1.10, which is the address of PC1. To generate traffic from PC1, access the console of PC1 and execute a ping to SRV2, whose address is 203.0.113.30.</div></div><div class="response"><div class="richtext">On PC1, enter the following commands:</div><div class="codeblock">PC1# <span class="bold">ping 203.0.113.30.</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
.!!!!
<span class="highlight">Success rate</span> is 80 percent (4/5), round-trip min/avg/max = 1/201/1005 ms</div><div class="richtext">The ping is successful. The ping utility on PC1 sends five ICMP requests.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 6: </strong>After an ACL has been applied to an interface and some testing has occurred, the <span class="commandname">show access-lists</span> command will display statistics for each statement that has been matched. Return to the console of R1 and display access list 10 again.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (<span class="highlight">5 matches</span>)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255
    30 permit 10.10.0.0, wildcard bits 0.0.255.255
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any</div><div class="richtext">In the output of the command, note that first entry has been matched. The counter of matched packets is shown in brackets, at the end of the access list entry. Each time an access list matches traffic, the counter of matched packets increases.</div><div class="richtext">When the first match in the ACL is encountered, the access list entry is executed. In the lab, the PC1 address 10.10.1.10 matches every line in the access list 10, but only the permit instruction of the first line was executed. After the instruction in the matching statement is executed, the ACL processing stops. Other processes take over the packet.</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">During the testing of an ACL, the counters can be cleared using the <span class="commandname">clear access-list counters</span> command. This command can be used without further arguments or with the number or the name of a specific ACL. </div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 7: </strong>Continue testing access list 10. The second line of access list 10 denies traffic from 10.10.1.0 0.0.0.255, denying packets with the source IPv4 address 10.10.1.* (other than 10.10.1.10 which is permitted by the first line). In the lab topology, the SW1 has IPv4 address 10.10.1.4. The packets from SW1 should pass by the first entry and match the second entry in the access list 10. To generate traffic from SW1, access the console of SW1 and use the <span class="commandname">ping</span> command to check the connectivity to SRV2. The attempt should fail.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">ping 203.0.113.30</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
U.U.U
<span class="highlight">Success rate is 0 percent (0/5)</span></div><div class="richtext">The ping was unsuccessful. You can presume that the access list 10 discards the packets coming from devices in the 10.10.1.0/24 subnet, other than PC1. In ping output, “U” stands for ICMP unreachable, which can be a good indication that an access list in the network is blocking the traffic.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 8: </strong>To verify that the filtering action of access list 10 is the cause for unsuccessful pings from SW1, return to the console of R1 and view access list 10 again. Look for the number of matches of the entry denying traffic from 10.10.1.0 subnet.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    20 <span class="highlight">deny   10.10.1.0</span>, wildcard bits 0.0.0.255 (<span class="highlight">8 matches</span>)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any</div><div class="richtext">Note that the statistics show matches also in the second line. The new match counter increased because of the SW1 ping packets. The exact number of matches will depend on how the router platform processes the denied packets.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 9: </strong>Now test the third line of the access list 10. The third line permits other packets that originate from the 10.10.0.0/16 subnets: packets with source IPv4 address 10.10.*.*. SRV1 and SW2 both have addresses in the 10.10.2.0/24 range. To test the access list, you could generate traffic directly on SRV1 by checking connectivity from SRV1 to SRV2 using <span class="commandname">ping</span>. Another way to test the third line of the access list 10 is to provoke the SRV1 to generate traffic or, in networking terminology, to solicit a response from SRV1. You can solicit a response from SRV1 by testing the connectivity from R2 to SRV1. Remember that for the ping to succeed, connectivity must exist in both directions: from R2 to SRV1 and from SRV1 back to R2. In this lab&#39;s topology, the SRV1 replies to R2 ping will pass the router R1, where they will “encounter” access list 10 as they egress R1 through the Ethernet 0/3 interface. </div></div><div class="response"><div class="richtext">On R2, enter the following command:</div><div class="codeblock">R2# <span class="bold">ping 10.10.2.20</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.2.20, timeout is 2 seconds:
.!!!!
<span class="highlight">Success rate is 80 percent (4/5)</span>, round-trip min/avg/max = 1/1/1 ms</div><div class="richtext">The ping is successful as expected.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 10: </strong>Although you saw that the ping from R2 to SRV1 was successful, it is a good practice to verify that the access list filtered the traffic. Return to the console of R1 and again show statistics for access list 10. Note down the values of match counters for each line.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    30 <span class="highlight">permit 10.10.0.0</span>, wildcard bits 0.0.255.255 (<span class="highlight">4 matches</span>)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any</div><div class="richtext">The match counter for the third statement was incremented, which indicates that the access list filtered the traffic sent form SRV1.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 11: </strong>The fourth entry in the access list 10 denies traffic from 10.0.0.0 0.255.255.255. Any packet with the source IPv4 address 10.*.*.* , other than 10.10.*.*, should be discarded. The fifth entry permits connections from any IPv4 address that did not match the first four statements, or in other words, any address that starts with something other than 10. There are no appropriate addresses in the lab topology to test the fourth and the fifth lines. The only devices with addresses that do not belong to the 10.0.0.0/8 range are the R1 and R2 routers. Although Ethernet 0/3 interface on R1 has an IPv4 address 198.51.100.2, R1 cannot be used in testing the access list. Because of the way that routers process traffic, the access list 10 does not process the traffic that originates from the router itself. Ping the SRV2 from the public interface of R1. To ensure that you are using the 198.51.100.2 as the source address, use the version of the <span class="commandname">ping</span> command that specifies the source address explicitly, such as <span class="commandname">ping 203.0.113.30 source 198.51.100.2</span>.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">ping 203.0.113.30 source 198.51.100.2</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
Packet sent with a source address of 198.51.100.2
<span class="highlight">!!!!!
Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/1/1 ms</div><div class="richtext">The ping is successful.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 12: </strong>Verify that the access list 10 on R1 has not processed the ping traffic sent by the R1 router itself. The ping from R1 to SRV2 was successful. Display the access list 10 again and check whether the counters have changed for the fifth or any other entry.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (4 matches)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any</div><div class="richtext">Notice that there are no changes in the match counters on any of the lines.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 13: </strong>So far, you have applied, examined, and verified access list 10, which was pre-configured on R1. Access list 10 permits traffic from every device in the 10.10.2.0 subnet. You will now modify access list 10 so that it allows traffic only from SRV1 on 10.10.2.0. </div><div class="richtext">You need to add two new entries to the access list 10. The first new entry should allow the traffic from SRV1 address 10.10.2.20/24. The second new entry should discard the traffic from all other IPv4 addresses in the 10.10.2.0/24 subnet. You will first add the entry which denies the traffic. At this point, to enter new access list statements, go to the Global Configuration mode and type in the new entry as you would have when you first configure an access list. Then verify that the entry was added using the <span class="commandname">show access-lists</span> command. Look for the newly added entries and note down their sequence numbers.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">access-list 10 deny 10.10.2.0 0.0.0.255
</span>R1(config)# <span class="bold">exit</span>
R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (4 matches)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any
    <span class="highlight">60 deny   10.10.2.0, wildcard bits 0.0.0.255</span></div><div class="richtext">Note that the new deny statement has been added to the end of the access list and has the sequence number 60.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 14: </strong>You will now add the entry which allows traffic from SRV1 address 10.10.2.20. Simply type in the new entry as you would have when you first configured an access list. Note the Cisco IOS console message that will appear.</div></div><div class="response"><div class="richtext">On R1, enter the following command</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">access-list 10 permit host 10.10.2.20</span>
<span class="highlight">% Access rule can&#39;t be configured at higher sequence num as it is part of the existing rule at sequence num 30</span></div><div class="richtext">When adding new statements to the access list, Cisco IOS will check whether there is already an entry with a lower sequence number that matches the same traffic and has the same instruction (permit or deny). If it finds an existing entry, it will not add the new statement. In the lab, access list entry with number 30 permits all traffic from all 10.10.0.0 subnets, in other words, it already matches the single address 10.10.2.20.</div><div class="richtext">Note that 10.10.2.0 0.0.0.255 statement that you successfully added is also already included in the &quot;wider&quot; 10.10.0.0 0.0.255.255 statement. However, the new statement denies traffic while the existing one permits it. When instructions differ for the statements with matching overlap, Cisco IOS does not generate the warning.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 15: </strong>Display the access list 10 again and verify that the access list does not include the new permit entry. Note that the newly added deny entry is appended to the end of the access list and has the sequence number 60.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1(config)# <span class="bold">exit</span>
R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (4 matches)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any
    <span class="highlight">60</span> deny   10.10.2.0, wildcard bits 0.0.0.255</div><div class="richtext">Adding new entries just by configuring them as you do when you first define an access list, appends new entries to the end of the access list. Sometimes, this default behavior results in an incorrectly ordered sequence of entries.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 16: </strong>In the lab, the default appending of new entries to the end of an access list will not produce the desired filtering effect. The new statement that blocks traffic from 10.10.2.0/24 subnet is the last entry in the list. Because it is the last entry in access list 10, traffic from SW2, whose address is 10.10.2.4, would not be blocked, because it would previously be permitted by the statement 30, which permits traffic from all 10.10.0.0/16 subnets. Recall that once there is a match in an access list, the corresponding entry is executed, and no further entries are processed. In other words, entry 30 will match traffic from 10.10.2.0/24 subnet before entry 60. From SW2 check the connectivity to SRV2 using the <span class="commandname">ping</span> command.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">ping 203.0.113.30</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
<span class="highlight">!!!!!</span>
<span class="highlight">Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/202/1008 ms</div><div class="richtext">The ping from SW2 is successful.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 17: </strong>Verify the statistics of the access list 10.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (<span class="highlight">9 matches</span>)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any
    60 deny   10.10.2.0, wildcard bits 0.0.0.255</div><div class="richtext">Note that there are no matches for the entry number 60. But statistics were incremented for entry number 30.</div><div class="richtext">You have to place new statements in the correct place in the existing access list, for them to have effect. After the first match occurs, the matching statement is executed and further ACL processing stops.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 18: </strong>You will now modify access list 10 again to ensure the correct order of the entries. First, you will delete the added entry and then re-add both new entries, but this time you will influence where they will be placed in the access list.</div><div class="richtext">To delete a statement from the numbered access lists, you will first enter into the specific configuration mode, called Named Access List configuration mode, using the <span class="commandname">ip access-list standard</span> <span class="syntaxarg">name</span> command. The Named Access List configuration mode is a sub mode of the Global Configuration Mode in Cisco IOS Software. To delete a specific statement, you need to know its sequence number in the access list. You will use <span class="commandname">no</span> <span class="syntaxarg">sequence-number</span> command in the Named Access List configuration mode to delete statement number 60. </div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">ip access-list standard 10</span>
R1(config-std-nacl)# <span class="bold">no 60</span></div><div class="richtext">Alternatively, you could delete the entire access list, using the global configuration mode command <span class="commandname">no access-list</span> and then retype the statements. However, this procedure is more time consuming and error prone.</div><div class="richtext">The Named Access List configuration mode is indicated by the <span class="italic">R1(config-std-nacl)#</span> prompt. “<span class="italic">nacl</span>” in the prompt stands for the named access list. In fact, to enter the named access-list configuration mode, you used the <span class="commandname">ip access-list standard</span> <span class="syntaxarg">name</span> command, which is a command used for named standard access lists. The <span class="commandname">ip access-list standard</span> <span class="syntaxarg">name</span> command allows entering numbers as names and so provides an easier way to modify numbered access lists also. </div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">When using the <span class="commandname">no access-list</span> command, different Cisco IOS software releases act differently. If the ACL that has been deleted is still applied to an interface, some Cisco IOS versions act as if no ACL is protecting your network while others deny all traffic. For this reason, it is a good practice to remove the reference to the access list from the interface before modifying the access list. If there is an error in the new list, disable it and troubleshoot the problem. In that instance, the network has no ACL during the correction process.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 19: </strong>To verify if you have successfully deleted the statements, display the content of the access list 10. On R1, go back to the Privileged EXEC Mode and use the <span class="commandname">show access-lists</span> command to display the content of the access list 10. Verify that entry 60 is no longer present.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1(config-std-nacl)# <span class="bold">end</span>
R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (9 matches)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255 
    50 permit any</div><div class="richtext">The line 60 is deleted.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 20: </strong>You now know that new entries must come before the existing entry number 30. The new entries allow traffic from SRV1 address 10.10.2.20 and deny traffic from other devices in the 10.10.2.0/24 subnet. The new entries do not overlap with entries 10 and 20, because entries 10 and 20 match traffic from another subnet,10.10.1.0/24.</div><div class="richtext">You have several options for placing the new entries. They can come before entry 10, between entries 10 and 20 or between entries 20 and 30.</div><div class="richtext">You will assign numbers 24 and 27 to new entries. An entry matching a single IPv4 address is more specific than an entry matching a subnet or a range of subnets. More specific entries are added first. Therefore, you will add the statement that permits traffic from 10.10.2.20/24 with sequence number 24 and the statement that denies traffic from the rest of the 10.10.2.0/24 subnet with sequence number 27. You are going to add entries in the Named Access List configuration mode.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">ip access-list standard 10</span>
R1(config-std-nacl)# <span class="bold">24 permit host 10.10.2.20</span>
R1(config-std-nacl)# <span class="bold">27 deny 10.10.2.0 0.0.0.255</span></div><div class="richtext">When adding new entries to an existing access list, it is a good practice to choose sequence numbers that are apart. Having sequence numbers apart will allow eventual new additions to the access list.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 21: </strong>Verify that you have successfully modified the access lists. Check that the entries are ordered as you desired. In the privileged EXEC command mode, display the content of the access list 10 using <span class="commandname">show access-lists</span> command. In the output, look for the newly added entries.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1(config-std-nacl)#<span class="bold"> end</span>
R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    <span class="highlight">24 permit 10.10.2.20</span>
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    <span class="highlight">27 deny   10.10.2.0, wildcard bits 0.0.0.255</span>
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (9 matches)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any</div><div class="richtext">The entry 24 is listed ahead of the entry 20 in the output. The Cisco IOS Software reorders the commands so that the more specific entries come first. The two most specific entries in the lab are the entries that are matching single addresses of PC1 and SRV1. </div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">After the next router reload, the access list is going to be renumbered using only multiplies of 10, but in the same order as shown.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 22: </strong>You will now test the newly added entries. You expect only traffic from SRV1 to pass the access list. To test, using ping test connectivity to SRV2 from both SRV1 and SW2. First, check connectivity from SRV1.</div></div><div class="response"><div class="richtext">On SRV1, enter the following command:</div><div class="codeblock">SRV1# <span class="bold">ping 203.0.113.30</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to ping 203.0.113.30, timeout is 2 seconds:
<span class="highlight">!!!!!</span>
<span class="highlight">Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/1/1 ms</div><div class="richtext">The ping is successful. The traffic from SRV1 passes the access list 10 filtering.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 23: </strong>Test whether the ping from SW2 to SRV2 is successful.</div></div><div class="response"><div class="richtext">On SW2, enter the following command:</div><div class="codeblock">SW2# <span class="bold">ping 203.0.113.30</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
<span class="highlight">U.U.U</span>
<span class="highlight">Success rate is 0 percent (0/5)</span></div><div class="richtext">The ping from the SW2 is not successful.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 24: </strong>To verify that access list 10 is filtering the traffic from 10.10.2.0 subnet, display its statistics. If the access list filters traffic as expected, you should see match statistics for the newly added entries.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    10 permit 10.10.1.10 (5 matches)
    24 permit 10.10.2.20 (<span class="highlight">5 matches</span>)
    20 deny   10.10.1.0, wildcard bits 0.0.0.255 (8 matches)
    27 deny   10.10.2.0, wildcard bits 0.0.0.255 (<span class="highlight">8 matches</span>)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (9 matches)
    40 deny   10.0.0.0, wildcard bits 0.0.0.255
    50 permit any</div><div class="richtext">There are matches on each of the new statements. You have successfully modified the access list.</div></div></div></div></div><div class="procedure" xmlns=""><div class="title">Task 2: Configure, Apply, and Verify Extended IPv4 Access Lists</div><div class="stepgroup"><div class="title">Activity</div><div class="step"><div class="action"><div class="richtext"><strong>Step 1: </strong>Use an extended access list if you wish to refine filtering of traffic from the 10.10.1.0 subnet. Standard access list 10 already filters the traffic from 10.10.1.0. The filtering of the standard access list 10 is more restrictive and overlaps with the filtering you wish to achieve with the extended access list. Therefore, you will first modify the standard access-list 10 on R1 to remove overlapping entries, sequence numbers 10 and 20. Access the console on R1 and enter the Named Access List configuration mode to delete the entries.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">ip access-list standard 10</span>
R1(config-std-nacl)# <span class="bold">no 10</span>
R1(config-std-nacl)# <span class="bold">no 20</span></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 2: </strong>Display the access list 10 to verify that you have successfully deleted the entries.</div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1(config-std-nacl)# <span class="bold">end</span>
R1# <span class="bold">show access-lists 10</span>
Standard IP access list 10
    24 permit 10.10.2.20 (5 matches)
    27 deny   10.10.2.0, wildcard bits 0.0.0.255 (8 matches)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (9 matches)
    40 deny   10.0.0.0, wildcard bits 0.255.255.255
    50 permit any</div><div class="richtext">Entries 10 and 20 are no longer present in the access list 10.</div><div class="richtext">Note that the standard access list 10 still filters traffic, because it is still applied to the Ethernet 0/3 interface of R1 in the outbound direction. Entries 24 and 27 filter traffic from the 10.10.2.0/24 subnet, while other entries process traffic from 10.0.0.0/8 subnets and other networks.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 3: </strong>Verify that the traffic from the 10.10.1.0/24 subnet is not filtered anymore and that traffic from 10.10.2.0/24 is still filtered by access list 10. Test the connectivity to SRV2 from both subnets. Use the name of SRV2 instead of its IPv4 address. You can use either upper or lower case letters in the commands. In the lab topology, the SRV2 is configured as the DNS server and will resolve names of all the topology devices to their IPv4 addresses. First, test the connectivity from SW1 to SRV2.</div></div><div class="response"><div class="richtext">On SW1, enter the following command:</div><div class="codeblock">SW1# <span class="bold">ping SRV2</span>
Translating &quot;SRV2&quot;...domain server (203.0.113.30) [OK]

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
<span class="highlight">!!!!!</span>
<span class="highlight">Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/1/1 ms</div><div class="richtext">As expected, the ping from SW1 succeeds.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 4: </strong>Test the connectivity from SW2 to SRV2. Perform two tests, the first using SRV2 name and the second using SRV2 IPv4 address.</div></div><div class="response"><div class="richtext">On SW2, enter the following commands:</div><div class="codeblock">SW2# <span class="bold">ping srv2</span>
Translating &quot;srv2&quot;...domain server (203.0.113.30)
% <span class="highlight">Unrecognized host or address</span>, or protocol not running.

SW2# <span class="bold">ping 203.0.113.30</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
<span class="highlight">U.U.U</span>
<span class="highlight">Success rate is 0 percent (0/5)</span></div><div class="richtext">As expected, both ping tests from SW2 fail. The access list is blocking SW2 DNS requests and ECHO requests.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 5: </strong>Access the console on R1 and configure a named extended IPv4 ACL using the <span class="commandname">ip access-list extended</span> <span class="syntaxarg">name</span> command. The ACL should be named &quot;PC1_TELNET.&quot; Note how the configuration mode changes to the Named Access List Configuration mode.</div><div class="listpreamble">The ACL should have these four statements:</div><ul class="list"><li>The first should deny all UDP traffic.</li><li>The second should permit TCP traffic from PC1 to any destination as long as the destination port is 23 (Telnet).</li><li>The third should deny all other TCP traffic from PC1.</li><li>The last should explicitly permit all IPv4 traffic. </li></ul><div class="customnote"><div class="notetitle">Note</div><div class="richtext">At the end of every ACL there is an implicit deny statement.</div></div></div><div class="response"><div class="richtext">On R1, enter the following commands:</div><div class="codeblock">R1# <span class="bold">configure terminal</span>
R1(config)# <span class="bold">ip access-list extended PC1_TELNET</span>
R1(config-ext-nacl)# <span class="bold">deny udp any any</span>
R1(config-ext-nacl)# <span class="bold">permit tcp host 10.10.1.10 any eq 23</span>
R1(config-ext-nacl)# <span class="bold">deny tcp host 10.10.1.10 any</span>
R1(config-ext-nacl)# <span class="bold">permit ip any any</span></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 6: </strong>On router R1, apply the PC1_TELNET access list to the Ethernet0/0 interface in the inbound direction and leave the configuration mode. </div></div><div class="response"><div class="richtext">On R1, enter the following commands</div><div class="codeblock">R1(config-ext-nacl)# <span class="bold">exit</span>
R1(config)# <span class="bold">interface Ethernet 0/0</span>
R1(config-if)# <span class="bold">ip access-group PC1_TELNET in</span>
R1(config-if)# <span class="bold">end</span></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 7: </strong>Display the entries of the PC1_TELNET access list using the <span class="commandname">show access-lists</span> command. Double check the access list entries. Verify that PC1_TELNET access list has all four statements in the correct order. Any slight variation in its definition can result in unexpected filtering behavior.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists PC1_TELNET</span>
Extended IP access list PC1_TELNET
    <span class="highlight">10 deny udp any any</span>
    <span class="highlight">20 permit tcp host 10.10.1.10 any eq telnet</span>
    <span class="highlight">30 deny tcp host 10.10.1.10 any</span>
    <span class="highlight">40 permit ip any any</span></div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">As an alternative to the <span class="commandname">show access-lists</span> command when viewing the content of IPv4 access lists, you can use the <span class="commandname">show ip access-lists</span> command.</div></div><div class="richtext">The outputs of either the <span class="commandname">show access-lists</span> command or the <span class="commandname">show ip access-lists</span> command do not display the implicit deny statement that is added at the end of every ACL. To make it visible, you must configure it explicitly. For instance, you would have to type in the <span class="commandname">deny any</span> entry when defining a standard ACL or <span class="commandname">deny any any</span> entry when defining the extended ACL.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 8: </strong>Now you will test ACL filtering by creating all types of traffic that you specified in the ACL statements.</div><div class="richtext">The first line of the ACL blocks all UDP traffic. In the lab topology, SRV2 is configured as the DNS server. Because DNS protocol uses the UDP as the transport protocol, the first line will block all DNS requests from subnet 10.10.1.0.<br></br>To verify the filtering of UDP traffic, access the console of PC1 and create traffic by checking the connectivity to router R2 using <span class="commandname">ping</span> with the router’s name. Then check the connectivity again using router R2 IPv4 address.</div></div><div class="response"><div class="richtext">On PC1, enter the following commands:</div><div class="codeblock">PC1# <span class="bold">ping R2</span>
Translating &quot;R2&quot;...domain server (203.0.113.30)
% <span class="highlight">Unrecognized host or address</span>, or protocol not running.

PC1# <span class="bold">ping 198.51.100.1</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 198.51.100.1, timeout is 2 seconds:
<span class="highlight">!!!!!</span>
<span class="highlight">Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/1/1 ms</div><div class="richtext">Ping using the name R2 fails, because the PC1_TELNET extended access list discards all DNS requests as they use UDP as the Transport layer protocol. Substituting R2 name with its IPv4 address shows that there is connectivity to R2. The PC1_TELNET extended access list does not affect ICMP traffic used by the ping utility.</div><div class="richtext">Be careful when filtering traffic with access lists. Take care not to block services that are desired, such as DNS. Instead of blocking the entire protocol, like UDP, the extended access list allows you to give finer specification of port numbers and protocols to filter.</div><div class="customnote"><div class="notetitle">Note</div><div class="richtext">Some application protocols, such as DNS, can use both TCP and UDP as transport protocols. To completely block traffic from these application protocols you have to provide two statements in the extended access list, one for each transport protocol.</div></div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 9: </strong>The second line in the ACL explicitly permits Telnet traffic from PC1 to any destination. Verify that PC1 can successfully use Telnet to SRV2. Use the username <span class="bold">admin</span> and password <span class="bold">Cisco123</span>. Once you establish the telnet connection, at the SRV2 system prompt, use the <span class="commandname">exit</span> command to terminate the connection.</div></div><div class="response"><div class="richtext"> On PC1, enter the following commands:</div><div class="codeblock">PC1# <span class="bold">telnet 203.0.113.30</span>
Trying 203.0.113.30 ... <span class="highlight">Open</span>

User Access Verification

Username: <span class="bold">admin</span>
Password:
<span class="highlight">SRV2</span>&gt; <span class="bold">exit</span>

[Connection to 203.0.113.30 closed by foreign host]</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 10: </strong>The third statement in the PC1_TELNET access list denies all other TCP traffic from PC1. Verify that PC1 cannot use HTTP to reach SRV2. To simulate the HTTP connectivity, you can use the telnet utility and explicitly specify the destination port number to which you wish to connect, which is 80 for HTTP.</div></div><div class="response"><div class="richtext">On PC1, enter the following command:</div><div class="codeblock">PC1# <span class="bold">telnet 203.0.113.30 80</span>
Trying 203.0.113.30, <span class="highlight">80</span> ...
% <span class="highlight">Destination unreachable</span>; gateway or host down</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 11: </strong>To verify that HTTP access is blocked by the extended access list PC1_TELNET, display the access list statistics.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists PC1_TELNET</span>
Extended IP access list PC1_TELNET
    10 deny udp any any (1 match)
    20 permit tcp host 10.10.1.10 any eq telnet (39 matches)
    30 deny tcp host 10.10.1.10 any (<span class="highlight">1 match</span>)
    40 permit ip any any (5 matches)</div><div class="richtext">You can see the number of matches for the entry number 30. Note that other entries already have matches, as the result of previous tests using ping utility and telnet.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 12: </strong>The fourth line in the ACL, which explicitly permits all IPv4 traffic, should permit any non-UDP traffic from PC1. Verify that PC1 can ping the SRV1.</div></div><div class="response"><div class="richtext">On PC1, enter the following command:</div><div class="codeblock">PC1# <span class="bold">ping 10.10.2.20</span>
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 10.10.2.20, timeout is 2 seconds:
<span class="highlight">!!!!!</span>
<span class="highlight">Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/1/1 ms</div><div class="richtext">The first three lines of the PC1_TELNET access list do not explicitly specify the matching for the ICMP protocol. Hence, any ICMP traffic should be permitted by the fourth statement in the ACL, which explicitly permits all IPv4 traffic that does not match previous statements.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 13: </strong>The extended access list PC1_TELNET should not affect ICMP and TCP traffic coming from SRV1, whose address is 10.10.2.20. The access list that does affect traffic from the 10.10.2.0/24 subnet is the standard access list 10. The access list 10 allows traffic only from the SRV1 and denies traffic from all other devices in the 10.10.2.0/24 subnet. You will now access the console of SRV1 and first test connectivity to SRV2 and then to R2 using <span class="commandname">ping</span> utility and device names. Afterwards, you will try to establish Telnet and HTTP connection to SRV2. For the Telnet connection, use the username <span class="bold">admin</span> and password <span class="bold">Cisco123</span>. Use <span class="commandname">exit</span> command at the SRV2 system prompt to terminate the connection.</div></div><div class="response"><div class="richtext">On SRV1, enter the following commands:</div><div class="codeblock">SRV1# <span class="bold">ping srv2</span>
Translating &quot;srv2&quot;...domain server (203.0.113.30) [<span class="highlight">OK</span>]

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 203.0.113.30, timeout is 2 seconds:
<span class="highlight">!!!!!
Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/1/1 ms

SRV1# <span class="bold">ping r2</span>
Translating &quot;r2&quot;...domain server (203.0.113.30) [<span class="highlight">OK</span>]

Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 198.51.100.1, timeout is 2 seconds:
<span class="highlight">!!!!!
Success rate is 100 percent (5/5)</span>, round-trip min/avg/max = 1/1/1 ms

SRV1# <span class="bold">telnet srv2</span>
Translating &quot;srv2&quot;...domain server (203.0.113.30) [<span class="highlight">OK</span>]
Trying srv2 (203.0.113.30)... <span class="highlight">Open</span>


User Access Verification

Username: <span class="bold">admin</span>
Password:
SRV2&gt; <span class="bold">exit</span>

[Connection to srv2 closed by foreign host]

SRV1# <span class="bold">telnet srv2 80</span>
Translating &quot;srv2&quot;...domain server (203.0.113.30) [<span class="highlight">OK</span>]
Trying srv2 (203.0.113.30, 80)... <span class="highlight">Open
</span><span class="bold">exit</span>
HTTP/1.1 400 Bad Request
Date: Thu, 10 Oct 2019 20:08:40 GMT
Server: cisco-IOS
Accept-Ranges: none

400 Bad Request
[Connection to srv2 closed by foreign host]
SRV1#</div><div class="richtext">All the tests from SRV2 are successful. The traffic from the subnet 10.10.2.0/24 is not processed by the extended access list PC1_TELNET, which is applied for the inbound traffic on the Ethernet0/0 interface. Being able to establish an HTTP connection also verifies that HTTP request processing is enabled on SRV2.</div></div></div><div class="step"><div class="action"><div class="richtext"><strong>Step 14: </strong>Display the statistics of both access list 10 and access list PC1_TELNET and observe the updated match counters that are associated with the activity you just performed.</div></div><div class="response"><div class="richtext">On R1, enter the following command:</div><div class="codeblock">R1# <span class="bold">show access-lists</span>
Standard IP <span class="highlight">access list 10</span>
    24 permit 10.10.2.20 (<span class="highlight">70 matches</span>)
    27 deny   10.10.2.0, wildcard bits 0.0.0.255 (18 matches)
    30 permit 10.10.0.0, wildcard bits 0.0.255.255 (<span class="highlight">59 matches</span>)
    40 deny   10.0.0.0, wildcard bits 0.0.0.255
    50 permit any
Extended IP <span class="highlight">access list PC1_TELNET</span>
    10 deny udp any any (4 matches)
    20 permit tcp host 10.10.1.10 any eq telnet (39 matches)
    30 deny tcp host 10.10.1.10 any (1 matches)
    40 permit ip any any (10 matches)</div></div><div class="parablock"><div class="richtext">Due to the dynamic nature of the lab environment, the match counters that you observe are likely to differ from what the example shows.</div></div></div></div></div><hr class="footline"></hr><div class="copyright">&#169; 2020 Cisco Systems, Inc.</div></body></html>